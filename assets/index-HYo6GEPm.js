(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var df={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function EE(){if(Pp)return Dl;Pp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return Dl.Fragment=e,Dl.jsx=i,Dl.jsxs=i,Dl}var kp;function TE(){return kp||(kp=1,df.exports=EE()),df.exports}var st=TE(),mf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function AE(){if(jp)return At;jp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function $(D,K,et){this.props=D,this.context=K,this.refs=nt,this.updater=et||G}$.prototype.isReactComponent={},$.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=$.prototype;function dt(D,K,et){this.props=D,this.context=K,this.refs=nt,this.updater=et||G}var ht=dt.prototype=new Tt;ht.constructor=dt,Z(ht,$.prototype),ht.isPureReactComponent=!0;var Ot=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function M(D,K,et,J,ot,wt){return et=wt.ref,{$$typeof:r,type:D,key:K,ref:et!==void 0?et:null,props:wt}}function b(D,K){return M(D.type,K,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function C(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return K[et]})}var V=/\/+/g;function O(D,K){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):K.toString(36)}function R(){}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function $t(D,K,et,J,ot){var wt=typeof D;(wt==="undefined"||wt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(wt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case r:case e:yt=!0;break;case A:return yt=D._init,$t(yt(D._payload),K,et,J,ot)}}if(yt)return ot=ot(D),yt=J===""?"."+O(D,0):J,Ot(ot)?(et="",yt!=null&&(et=yt.replace(V,"$&/")+"/"),$t(ot,K,et,"",function(Mn){return Mn})):ot!=null&&(S(ot)&&(ot=b(ot,et+(ot.key==null||D&&D.key===ot.key?"":(""+ot.key).replace(V,"$&/")+"/")+yt)),K.push(ot)),1;yt=0;var Re=J===""?".":J+":";if(Ot(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],wt=Re+O(J,Zt),yt+=$t(J,K,et,wt,ot);else if(Zt=x(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,wt=Re+O(J,Zt++),yt+=$t(J,K,et,wt,ot);else if(wt==="object"){if(typeof D.then=="function")return $t(ne(D),K,et,J,ot);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function q(D,K,et){if(D==null)return D;var J=[],ot=0;return $t(D,J,"","",function(wt){return K.call(et,wt,ot++)}),J}function tt(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var rt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function St(){}return At.Children={map:q,forEach:function(D,K,et){q(D,function(){K.apply(this,arguments)},et)},count:function(D){var K=0;return q(D,function(){K++}),K},toArray:function(D){return q(D,function(K){return K})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=$,At.Fragment=i,At.Profiler=u,At.PureComponent=dt,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,K,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=Z({},D.props),ot=D.key,wt=void 0;if(K!=null)for(yt in K.ref!==void 0&&(wt=void 0),K.key!==void 0&&(ot=""+K.key),K)!zt.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(J[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)J.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return M(D.type,ot,void 0,void 0,wt,J)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},At.createElement=function(D,K,et){var J,ot={},wt=null;if(K!=null)for(J in K.key!==void 0&&(wt=""+K.key),K)zt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=K[J]);var yt=arguments.length-2;if(yt===1)ot.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ot.children=Re}if(D&&D.defaultProps)for(J in yt=D.defaultProps,yt)ot[J]===void 0&&(ot[J]=yt[J]);return M(D,wt,void 0,void 0,null,ot)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:p,render:D}},At.isValidElement=S,At.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},At.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},At.startTransition=function(D){var K=_t.T,et={};_t.T=et;try{var J=D(),ot=_t.S;ot!==null&&ot(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(St,rt)}catch(wt){rt(wt)}finally{_t.T=K}},At.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},At.use=function(D){return _t.H.use(D)},At.useActionState=function(D,K,et){return _t.H.useActionState(D,K,et)},At.useCallback=function(D,K){return _t.H.useCallback(D,K)},At.useContext=function(D){return _t.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,K){return _t.H.useDeferredValue(D,K)},At.useEffect=function(D,K,et){var J=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,K)},At.useId=function(){return _t.H.useId()},At.useImperativeHandle=function(D,K,et){return _t.H.useImperativeHandle(D,K,et)},At.useInsertionEffect=function(D,K){return _t.H.useInsertionEffect(D,K)},At.useLayoutEffect=function(D,K){return _t.H.useLayoutEffect(D,K)},At.useMemo=function(D,K){return _t.H.useMemo(D,K)},At.useOptimistic=function(D,K){return _t.H.useOptimistic(D,K)},At.useReducer=function(D,K,et){return _t.H.useReducer(D,K,et)},At.useRef=function(D){return _t.H.useRef(D)},At.useState=function(D){return _t.H.useState(D)},At.useSyncExternalStore=function(D,K,et){return _t.H.useSyncExternalStore(D,K,et)},At.useTransition=function(){return _t.H.useTransition()},At.version="19.1.0",At}var qp;function Xf(){return qp||(qp=1,mf.exports=AE()),mf.exports}var bn=Xf(),gf={exports:{}},Vl={},pf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function SE(){return Hp||(Hp=1,function(r){function e(q,tt){var rt=q.length;q.push(tt);t:for(;0<rt;){var St=rt-1>>>1,D=q[St];if(0<u(D,tt))q[St]=tt,q[rt]=D,rt=St;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var tt=q[0],rt=q.pop();if(rt!==tt){q[0]=rt;t:for(var St=0,D=q.length,K=D>>>1;St<K;){var et=2*(St+1)-1,J=q[et],ot=et+1,wt=q[ot];if(0>u(J,rt))ot<D&&0>u(wt,J)?(q[St]=wt,q[ot]=rt,St=ot):(q[St]=J,q[et]=rt,St=et);else if(ot<D&&0>u(wt,rt))q[St]=wt,q[ot]=rt,St=ot;else break t}}return tt}function u(q,tt){var rt=q.sortIndex-tt.sortIndex;return rt!==0?rt:q.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,N=null,x=3,G=!1,Z=!1,nt=!1,$=!1,Tt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ot(q){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=q)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function _t(q){if(nt=!1,Ot(q),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,O());else{var tt=i(_);tt!==null&&$t(_t,tt.startTime-q)}}var zt=!1,M=-1,b=5,S=-1;function C(){return $?!0:!(r.unstable_now()-S<b)}function V(){if($=!1,zt){var q=r.unstable_now();S=q;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,dt(M),M=-1),G=!0;var rt=x;try{e:{for(Ot(q),N=i(v);N!==null&&!(N.expirationTime>q&&C());){var St=N.callback;if(typeof St=="function"){N.callback=null,x=N.priorityLevel;var D=St(N.expirationTime<=q);if(q=r.unstable_now(),typeof D=="function"){N.callback=D,Ot(q),tt=!0;break e}N===i(v)&&s(v),Ot(q)}else s(v);N=i(v)}if(N!==null)tt=!0;else{var K=i(_);K!==null&&$t(_t,K.startTime-q),tt=!1}}break t}finally{N=null,x=rt,G=!1}tt=void 0}}finally{tt?O():zt=!1}}}var O;if(typeof ht=="function")O=function(){ht(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=V,O=function(){ne.postMessage(null)}}else O=function(){Tt(V,0)};function $t(q,tt){M=Tt(function(){q(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(q){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var rt=x;x=tt;try{return q()}finally{x=rt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(q,tt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var rt=x;x=q;try{return tt()}finally{x=rt}},r.unstable_scheduleCallback=function(q,tt,rt){var St=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?St+rt:St):rt=St,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=rt+D,q={id:A++,callback:tt,priorityLevel:q,startTime:rt,expirationTime:D,sortIndex:-1},rt>St?(q.sortIndex=rt,e(_,q),i(v)===null&&q===i(_)&&(nt?(dt(M),M=-1):nt=!0,$t(_t,rt-St))):(q.sortIndex=D,e(v,q),Z||G||(Z=!0,zt||(zt=!0,O()))),q},r.unstable_shouldYield=C,r.unstable_wrapCallback=function(q){var tt=x;return function(){var rt=x;x=tt;try{return q.apply(this,arguments)}finally{x=rt}}}}(yf)),yf}var Gp;function bE(){return Gp||(Gp=1,pf.exports=SE()),pf.exports}var _f={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function RE(){if(Qp)return qe;Qp=1;var r=Xf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,N=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:N,integrity:x,fetchPriority:G}):A==="script"&&s.d.X(v,{crossOrigin:N,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,N=p(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:N,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},qe.requestFormReset=function(v){s.d.r(v)},qe.unstable_batchedUpdates=function(v,_){return v(_)},qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.1.0",qe}var Yp;function wE(){if(Yp)return _f.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_f.exports=RE(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function CE(){if(Fp)return Vl;Fp=1;var r=bE(),e=Xf(),i=wE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case zt:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case dt:return(t._context.displayName||"Context")+".Consumer";case Ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var $t=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},St=[],D=-1;function K(t){return{current:t}}function et(t){0>D||(t.current=St[D],St[D]=null,D--)}function J(t,n){D++,St[D]=t.current,t.current=n}var ot=K(null),wt=K(null),yt=K(null),Re=K(null);function Zt(t,n){switch(J(yt,n),J(wt,t),J(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=dp(n),t=mp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ot),J(ot,t)}function Mn(){et(ot),et(wt),et(yt)}function Ni(t){t.memoizedState!==null&&J(Re,t);var n=ot.current,a=mp(n,t.type);n!==a&&(J(wt,t),J(ot,a))}function ei(t){wt.current===t&&(et(ot),et(wt)),Re.current===t&&(et(Re),Sl._currentValue=rt)}var _a=Object.prototype.hasOwnProperty,va=r.unstable_scheduleCallback,Ea=r.unstable_cancelCallback,Er=r.unstable_shouldYield,$l=r.unstable_requestPaint,hn=r.unstable_now,fc=r.unstable_getCurrentPriorityLevel,Tr=r.unstable_ImmediatePriority,cs=r.unstable_UserBlockingPriority,Ta=r.unstable_NormalPriority,dc=r.unstable_LowPriority,hs=r.unstable_IdlePriority,Ar=r.log,Wl=r.unstable_setDisableYieldValue,se=null,qt=null;function tn(t){if(typeof Ar=="function"&&Wl(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var ke=Math.clz32?Math.clz32:Aa,tu=Math.log,mc=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(tu(t)/mc|0)|0}var Sa=256,ba=4194304;function wn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fs(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=wn(l):(y&=E,y!==0?c=wn(y):a||(a=E&~t,a!==0&&(c=wn(a))))):(E=l&~f,E!==0?c=wn(E):y!==0?c=wn(y):a||(a=l&~t,a!==0&&(c=wn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Ra(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Sr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(){var t=Sa;return Sa<<=1,(Sa&4194048)===0&&(Sa=256),t}function Rr(){var t=ba;return ba<<=1,(ba&62914560)===0&&(ba=4194304),t}function ni(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ii(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wr(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-ke(a),Y=1<<H;E[H]=0,w[H]=-1;var P=B[H];if(P!==null)for(B[H]=null,H=0;H<P.length;H++){var k=P[H];k!==null&&(k.lane&=-536870913)}a&=~Y}l!==0&&xn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function xn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Cr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ds(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Mp(t.type))}function eu(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Wt=Math.random().toString(36).slice(2),ye="__reactFiber$"+Wt,fe="__reactProps$"+Wt,fn="__reactContainer$"+Wt,Dr="__reactEvents$"+Wt,gc="__reactListeners$"+Wt,Ui="__reactHandles$"+Wt,nu="__reactResources$"+Wt,wa="__reactMarker$"+Wt;function Li(t){delete t[ye],delete t[fe],delete t[Dr],delete t[gc],delete t[Ui]}function ai(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[fn]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=_p(t);t!==null;){if(a=t[ye])return a;t=_p(t)}return n}t=a,a=t.parentNode}return null}function Un(t){if(t=t[ye]||t[fn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[nu];return n||(n=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[wa]=!0}var Vr=new Set,ms={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(ms[t]=n,t=0;t<n.length;t++)Vr.add(n[t])}var iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Ca={};function su(t){return _a.call(Ca,t)?!0:_a.call(au,t)?!1:iu.test(t)?Ca[t]=!0:(au[t]=!0,!1)}function zi(t,n,a){if(su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function zn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ne(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Da,ru;function ri(t){if(Da===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Da=n&&n[1]||"",ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Da+t+ru}var gs=!1;function ps(t,n){if(!t||gs)return"";gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var P=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){P=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){P=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var w=y.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var H=`
`+w[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{gs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function Ir(t){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ps(t.type,!1);case 11:return ps(t.type.render,!1);case 1:return ps(t.type,!0);case 31:return ri("Activity");default:return""}}function ys(t){try{var n="";do n+=Ir(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Fe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=Or(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _s(t){t._valueTracker||(t._valueTracker=pc(t))}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yc=/[\n"\\]/g;function de(t){return t.replace(yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function en(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Fe(n)):t.value!==""+Fe(n)&&(t.value=""+Fe(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Bi(t,y,Fe(n)):a!=null?Bi(t,y,Fe(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Fe(E):t.removeAttribute("name")}function Ia(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Fe(a):"",n=n!=null?""+Fe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Bi(t,n,a){n==="number"&&Va(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function li(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Fe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Fe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Fe(a):""}function Oa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if($t(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Fe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Na.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Mr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&lu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&lu(t,f,n[f])}function xr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oi=null,ci=null;function Ur(t){var n=Un(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(en(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));en(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Nr(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&li(t,!!a.multiple,n,!1)}}}var Bn=!1;function uu(t,n,a){if(Bn)return t(n,a);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(oi!==null||ci!==null)&&(eo(),oi&&(n=oi,t=ci,ci=oi=null,Ur(n),t)))for(n=0;n<t.length;n++)Ur(t[n])}}function Ma(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gn=!1;if(Dn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){gn=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{gn=!1}var Pn=null,Pi=null,hi=null;function Lr(){if(hi)return hi;var t,n=Pi,a=n.length,l,c="value"in Pn?Pn.value:Pn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return hi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function zr(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:zr,this.isPropagationStopped=zr,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Es=we(kt),Ua=A({},kt,{view:0,detail:0}),ou=we(Ua),Ts,As,qn,La=A({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(Ts=t.screenX-qn.screenX,As=t.screenY-qn.screenY):As=Ts=0,qn=t),Ts)},movementY:function(t){return"movementY"in t?t.movementY:As}}),pn=we(La),cu=A({},La,{dataTransfer:0}),Ec=we(cu),za=A({},Ua,{relatedTarget:0}),Ss=we(za),Br=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=we(Br),hu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rs=we(hu),Tc=A({},kt,{data:0}),Pr=we(Tc),Ba={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function Pa(){return kr}var mu=A({},Ua,{key:function(t){if(t.key){var n=Ba[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ws=we(mu),gu=A({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jr=we(gu),fi=A({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),pu=we(fi),yu=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=we(yu),vu=A({},La,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cs=we(vu),Ke=A({},kt,{newState:0,oldState:0}),Eu=we(Ke),Tu=[9,13,27,32],Hn=Dn&&"CompositionEvent"in window,o=null;Dn&&"documentMode"in document&&(o=document.documentMode);var m=Dn&&"TextEvent"in window&&!o,g=Dn&&(!Hn||o&&8<o&&11>=o),T=" ",L=!1;function j(t,n){switch(t){case"keyup":return Tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Mt(t,n){if(Nt)return t==="compositionend"||!Hn&&j(t,n)?(t=Lr(),hi=Pi=Pn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function di(t,n,a,l){oi?ci?ci.push(l):ci=[l]:oi=l,n=lo(n,"onChange"),0<n.length&&(a=new Es("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Gn=null;function qr(t){up(t,0)}function Au(t){var n=Ln(t);if(Nr(n))return t}function Vd(t,n){if(t==="change")return n}var Id=!1;if(Dn){var Ac;if(Dn){var Sc="oninput"in document;if(!Sc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Sc=typeof Od.oninput=="function"}Ac=Sc}else Ac=!1;Id=Ac&&(!document.documentMode||9<document.documentMode)}function Nd(){Me&&(Me.detachEvent("onpropertychange",Md),Gn=Me=null)}function Md(t){if(t.propertyName==="value"&&Au(Gn)){var n=[];di(n,Gn,t,mn(t)),uu(qr,n)}}function Zv(t,n,a){t==="focusin"?(Nd(),Me=n,Gn=a,Me.attachEvent("onpropertychange",Md)):t==="focusout"&&Nd()}function Jv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Gn)}function $v(t,n){if(t==="click")return Au(n)}function Wv(t,n){if(t==="input"||t==="change")return Au(n)}function t0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var nn=typeof Object.is=="function"?Object.is:t0;function Hr(t,n){if(nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!_a.call(n,c)||!nn(t[c],n[c]))return!1}return!0}function xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,n){var a=xd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=xd(a)}}function Ld(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ld(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Va(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Va(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var e0=Dn&&"documentMode"in document&&11>=document.documentMode,Ds=null,Rc=null,Gr=null,wc=!1;function Bd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wc||Ds==null||Ds!==Va(l)||(l=Ds,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gr&&Hr(Gr,l)||(Gr=l,l=lo(Rc,"onSelect"),0<l.length&&(n=new Es("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ds)))}function ka(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Vs={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},Cc={},Pd={};Dn&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function ja(t){if(Cc[t])return Cc[t];if(!Vs[t])return t;var n=Vs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pd)return Cc[t]=n[a];return t}var kd=ja("animationend"),jd=ja("animationiteration"),qd=ja("animationstart"),n0=ja("transitionrun"),i0=ja("transitionstart"),a0=ja("transitioncancel"),Hd=ja("transitionend"),Gd=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Vn(t,n){Gd.set(t,n),Cn(n,[t])}var Qd=new WeakMap;function yn(t,n){if(typeof t=="object"&&t!==null){var a=Qd.get(t);return a!==void 0?a:(n={value:t,source:n,stack:ys(n)},Qd.set(t,n),n)}return{value:t,source:n,stack:ys(n)}}var _n=[],Is=0,Vc=0;function Su(){for(var t=Is,n=Vc=Is=0;n<t;){var a=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var f=_n[n];if(_n[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Yd(a,c,f)}}function bu(t,n,a,l){_n[Is++]=t,_n[Is++]=n,_n[Is++]=a,_n[Is++]=l,Vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ic(t,n,a,l){return bu(t,n,a,l),Ru(t)}function Os(t,n){return bu(t,null,null,n),Ru(t)}function Yd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Ru(t){if(50<gl)throw gl=0,Lh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ns={};function s0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,n,a,l){return new s0(t,n,a,l)}function Oc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,n){var a=t.alternate;return a===null?(a=an(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fd(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function wu(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Oc(t)&&(y=1);else if(typeof t=="string")y=lE(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=an(31,a,n,c),t.elementType=S,t.lanes=f,t;case Z:return qa(a.children,c,f,n);case nt:y=8,c|=24;break;case $:return t=an(12,a,n,c|2),t.elementType=$,t.lanes=f,t;case _t:return t=an(13,a,n,c),t.elementType=_t,t.lanes=f,t;case zt:return t=an(19,a,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case ht:y=10;break t;case dt:y=9;break t;case Ot:y=11;break t;case M:y=14;break t;case b:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=an(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function qa(t,n,a,l){return t=an(7,t,l,n),t.lanes=a,t}function Nc(t,n,a){return t=an(6,t,null,n),t.lanes=a,t}function Mc(t,n,a){return n=an(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ms=[],xs=0,Cu=null,Du=0,vn=[],En=0,Ha=null,gi=1,pi="";function Ga(t,n){Ms[xs++]=Du,Ms[xs++]=Cu,Cu=t,Du=n}function Kd(t,n,a){vn[En++]=gi,vn[En++]=pi,vn[En++]=Ha,Ha=t;var l=gi;t=pi;var c=32-ke(l)-1;l&=~(1<<c),a+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,gi=1<<32-ke(n)+c|a<<c|l,pi=f+t}else gi=1<<f|a<<c|l,pi=t}function xc(t){t.return!==null&&(Ga(t,1),Kd(t,1,0))}function Uc(t){for(;t===Cu;)Cu=Ms[--xs],Ms[xs]=null,Du=Ms[--xs],Ms[xs]=null;for(;t===Ha;)Ha=vn[--En],vn[En]=null,pi=vn[--En],vn[En]=null,gi=vn[--En],vn[En]=null}var Xe=null,re=null,Pt=!1,Qa=null,Qn=!1,Lc=Error(s(519));function Ya(t){var n=Error(s(418,""));throw Fr(yn(n,t)),Lc}function Xd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[fe]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<yl.length;a++)Vt(yl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Ia(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Oa(n,l.value,l.defaultValue,l.children),_s(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||fp(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=uo),n=!0):n=!1,n||Ya(t)}function Zd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xe=Xe.return}}function Qr(t){if(t!==Xe)return!1;if(!Pt)return Zd(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$h(t.type,t.memoizedProps)),a=!a),a&&re&&Ya(t),Zd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){re=On(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}re=null}}else n===27?(n=re,ea(t.type)?(t=nf,nf=null,re=t):re=n):re=Xe?On(t.stateNode.nextSibling):null;return!0}function Yr(){re=Xe=null,Pt=!1}function Jd(){var t=Qa;return t!==null&&($e===null?$e=t:$e.push.apply($e,t),Qa=null),t}function Fr(t){Qa===null?Qa=[t]:Qa.push(t)}var zc=K(null),Fa=null,yi=null;function ki(t,n,a){J(zc,n._currentValue),n._currentValue=a}function _i(t){t._currentValue=zc.current,et(zc)}function Bc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Pc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Bc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Bc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Kr(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;nn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}c=c.return}t!==null&&Pc(n,t,a,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ka(t){Fa=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return $d(Fa,t)}function Iu(t,n){return Fa===null&&Ka(t),$d(t,n)}function $d(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},yi===null){if(t===null)throw Error(s(308));yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else yi=yi.next=n;return a}var r0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},l0=r.unstable_scheduleCallback,u0=r.unstable_NormalPriority,Ee={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new r0,data:new Map,refCount:0}}function Xr(t){t.refCount--,t.refCount===0&&l0(u0,function(){t.controller.abort()})}var Zr=null,jc=0,Us=0,Ls=null;function o0(t,n){if(Zr===null){var a=Zr=[];jc=0,Us=Hh(),Ls={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jc++,n.then(Wd,Wd),n}function Wd(){if(--jc===0&&Zr!==null){Ls!==null&&(Ls.status="fulfilled");var t=Zr;Zr=null,Us=0,Ls=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function c0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var tm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&o0(t,n),tm!==null&&tm(t,n)};var Xa=K(null);function qc(){var t=Xa.current;return t!==null?t:Jt.pooledCache}function Ou(t,n){n===null?J(Xa,Xa.current):J(Xa,n.pool)}function em(){var t=qc();return t===null?null:{parent:Ee._currentValue,pool:t}}var Jr=Error(s(460)),nm=Error(s(474)),Nu=Error(s(542)),Hc={then:function(){}};function im(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mu(){}function am(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Mu,Mu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rm(t),t;default:if(typeof n.status=="string")n.then(Mu,Mu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rm(t),t}throw $r=n,Jr}}var $r=null;function sm(){if($r===null)throw Error(s(459));var t=$r;return $r=null,t}function rm(t){if(t===Jr||t===Nu)throw Error(s(483))}var ji=!1;function Gc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Ru(t),Yd(t,null,a),n}return bu(t,l,n,a),Ru(t)}function Wr(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Cr(t,a)}}function Yc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Fc=!1;function tl(){if(Fc){var t=Ls;if(t!==null)throw t}}function el(t,n,a,l){Fc=!1;var c=t.updateQueue;ji=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,y===null?f=B:y.next=B,y=w;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=w))}if(f!==null){var Y=c.baseState;y=0,H=B=w=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(xt&P)===P:(l&P)===P){P!==0&&P===Us&&(Fc=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var pt=t,ft=E;P=n;var Kt=a;switch(ft.tag){case 1:if(pt=ft.payload,typeof pt=="function"){Y=pt.call(Kt,Y,P);break t}Y=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ft.payload,P=typeof pt=="function"?pt.call(Kt,Y,P):pt,P==null)break t;Y=A({},Y,P);break t;case 2:ji=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=k,w=Y):H=H.next=k,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),Ji|=y,t.lanes=y,t.memoizedState=Y}}function lm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function um(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lm(a[t],n)}var zs=K(null),xu=K(0);function om(t,n){t=Ri,J(xu,t),J(zs,n),Ri=t|n.baseLanes}function Kc(){J(xu,Ri),J(zs,zs.current)}function Xc(){Ri=xu.current,et(zs),et(xu)}var Gi=0,bt=null,Yt=null,me=null,Uu=!1,Bs=!1,Za=!1,Lu=0,nl=0,Ps=null,h0=0;function oe(){throw Error(s(321))}function Zc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!nn(t[a],n[a]))return!1;return!0}function Jc(t,n,a,l,c,f){return Gi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Ym:Fm,Za=!1,f=a(l,c),Za=!1,Bs&&(f=hm(n,a,l,c)),cm(t),f}function cm(t){q.H=qu;var n=Yt!==null&&Yt.next!==null;if(Gi=0,me=Yt=bt=null,Uu=!1,nl=0,Ps=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Vu(t)&&(De=!0))}function hm(t,n,a,l){bt=t;var c=0;do{if(Bs&&(Ps=null),nl=0,Bs=!1,25<=c)throw Error(s(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=_0,f=n(a,l)}while(Bs);return f}function f0(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function $c(){var t=Lu!==0;return Lu=0,t}function Wc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function th(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}Gi=0,me=Yt=bt=null,Bs=!1,nl=Lu=0,Ps=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,Ps===null&&(Ps=[]),t=am(Ps,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Ym:Fm),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ht)return je(t)}throw Error(s(438,String(t)))}function nh(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eh(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=C;return n.index++,a}function vi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=ge();return ih(n,Yt,t)}function ih(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,w=null,B=n,H=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(xt&Y)===Y:(Gi&Y)===Y){var P=B.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Us&&(H=!0);else if((Gi&P)===P){B=B.next,P===Us&&(H=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=Y,y=f):w=w.next=Y,bt.lanes|=P,Ji|=P;Y=B.action,Za&&a(f,Y),f=B.hasEagerState?B.eagerState:a(f,Y)}else P={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=P,y=f):w=w.next=P,bt.lanes|=Y,Ji|=Y;B=B.next}while(B!==null&&B!==n);if(w===null?y=f:w.next=E,!nn(f,t.memoizedState)&&(De=!0,H&&(a=Ls,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ah(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);nn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function fm(t,n,a){var l=bt,c=ge(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!nn((Yt||c).memoizedState,a);y&&(c.memoizedState=a,De=!0),c=c.queue;var E=gm.bind(null,l,c,t);if(al(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,ks(9,Pu(),mm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Gi&124)!==0||dm(l,n,a)}return a}function dm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=eh(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function mm(t,n,a,l){n.value=a,n.getSnapshot=l,pm(n)&&ym(t)}function gm(t,n,a){return a(function(){pm(n)&&ym(t)})}function pm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!nn(t,a)}catch{return!0}}function ym(t){var n=Os(t,2);n!==null&&on(n,t,2)}function sh(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),Za){tn(!0);try{a()}finally{tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function _m(t,n,a,l){return t.baseState=a,ih(t,Yt,typeof l=="function"?l:vi)}function d0(t,n,a,l,c){if(ju(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,vm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=q.T,y={};q.T=y;try{var E=a(c,l),w=q.S;w!==null&&w(y,E),Em(t,n,E)}catch(B){rh(t,n,B)}finally{q.T=f}}else try{f=a(c,l),Em(t,n,f)}catch(B){rh(t,n,B)}}function Em(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tm(t,n,l)},function(l){return rh(t,n,l)}):Tm(t,n,a)}function Tm(t,n,a){n.status="fulfilled",n.value=a,Am(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,vm(t,a)))}function rh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Am(n),n=n.next;while(n!==l)}t.action=null}function Am(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sm(t,n){return n}function bm(t,n){if(Pt){var a=Jt.formState;if(a!==null){t:{var l=bt;if(Pt){if(re){e:{for(var c=re,f=Qn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){re=On(c.nextSibling),l=c.data==="F!";break t}}Ya(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:n},a.queue=l,a=Hm.bind(null,bt,l),l.dispatch=a,l=sh(!1),f=hh.bind(null,bt,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=d0.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Rm(t){var n=ge();return wm(n,Yt,t)}function wm(t,n,a){if(n=ih(t,n,Sm)[0],t=Bu(vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=il(n)}catch(y){throw y===Jr?Nu:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,ks(9,Pu(),m0.bind(null,c,a),null)),[l,f,t]}function m0(t,n){t.action=n}function Cm(t){var n=ge(),a=Yt;if(a!==null)return wm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ks(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=eh(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Pu(){return{destroy:void 0,resource:void 0}}function Dm(){return ge().memoizedState}function ku(t,n,a,l){var c=Ze();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=ks(1|n,Pu(),a,l)}function al(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Zc(l,Yt.memoizedState.deps)?c.memoizedState=ks(n,f,a,l):(bt.flags|=t,c.memoizedState=ks(1|n,f,a,l))}function Vm(t,n){ku(8390656,8,t,n)}function Im(t,n){al(2048,8,t,n)}function Om(t,n){return al(4,2,t,n)}function Nm(t,n){return al(4,4,t,n)}function Mm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xm(t,n,a){a=a!=null?a.concat([t]):null,al(4,4,Mm.bind(null,n,t),a)}function lh(){}function Um(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Zc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Lm(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Zc(n,l[1]))return l[0];if(l=t(),Za){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l}function uh(t,n,a){return a===void 0||(Gi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Pg(),bt.lanes|=t,Ji|=t,a)}function zm(t,n,a,l){return nn(a,n)?a:zs.current!==null?(t=uh(t,a,l),nn(t,n)||(De=!0),t):(Gi&42)===0?(De=!0,t.memoizedState=a):(t=Pg(),bt.lanes|=t,Ji|=t,n)}function Bm(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=q.T,E={};q.T=E,hh(t,!1,n,a);try{var w=c(),B=q.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=c0(w,l);sl(t,n,H,un(t))}else sl(t,n,l,un(t))}catch(Y){sl(t,n,{then:function(){},status:"rejected",reason:Y},un())}finally{tt.p=f,q.T=y}}function g0(){}function oh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Pm(t).queue;Bm(t,c,n,rt,a===null?g0:function(){return km(t),a(l)})}function Pm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function km(t){var n=Pm(t).next.queue;sl(t,n,{},un())}function ch(){return je(Sl)}function jm(){return ge().memoizedState}function qm(){return ge().memoizedState}function p0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=un();t=qi(a);var l=Hi(n,t,a);l!==null&&(on(l,n,a),Wr(l,n,a)),n={cache:kc()},t.payload=n;return}n=n.return}}function y0(t,n,a){var l=un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ju(t)?Gm(n,a):(a=Ic(t,n,a,l),a!==null&&(on(a,t,l),Qm(a,n,l)))}function Hm(t,n,a){var l=un();sl(t,n,a,l)}function sl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Gm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,nn(E,y))return bu(t,n,c,0),Jt===null&&Su(),!1}catch{}finally{}if(a=Ic(t,n,c,l),a!==null)return on(a,t,l),Qm(a,n,l),!0}return!1}function hh(t,n,a,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(n)throw Error(s(479))}else n=Ic(t,a,l,2),n!==null&&on(n,t,2)}function ju(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Gm(t,n){Bs=Uu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Qm(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Cr(t,a)}}var qu={readContext:je,use:zu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},Ym={readContext:je,use:zu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Vm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ku(4194308,4,Mm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(Za){tn(!0);try{t()}finally{tn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(Za){tn(!0);try{a(n)}finally{tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=y0.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=sh(t);var n=t.queue,a=Hm.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:lh,useDeferredValue:function(t,n){var a=Ze();return uh(a,t,n)},useTransition:function(){var t=sh(!1);return t=Bm.bind(null,bt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=Ze();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(xt&124)!==0||dm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Vm(gm.bind(null,l,f,t),[t]),l.flags|=2048,ks(9,Pu(),mm.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=Jt.identifierPrefix;if(Pt){var a=pi,l=gi;a=(l&~(1<<32-ke(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Lu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=h0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ch,useFormState:bm,useActionState:bm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=hh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:nh,useCacheRefresh:function(){return Ze().memoizedState=p0.bind(null,bt)}},Fm={readContext:je,use:zu,useCallback:Um,useContext:je,useEffect:Im,useImperativeHandle:xm,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:Lm,useReducer:Bu,useRef:Dm,useState:function(){return Bu(vi)},useDebugValue:lh,useDeferredValue:function(t,n){var a=ge();return zm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Bu(vi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:fm,useId:jm,useHostTransitionStatus:ch,useFormState:Rm,useActionState:Rm,useOptimistic:function(t,n){var a=ge();return _m(a,Yt,t,n)},useMemoCache:nh,useCacheRefresh:qm},_0={readContext:je,use:zu,useCallback:Um,useContext:je,useEffect:Im,useImperativeHandle:xm,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:Lm,useReducer:ah,useRef:Dm,useState:function(){return ah(vi)},useDebugValue:lh,useDeferredValue:function(t,n){var a=ge();return Yt===null?uh(a,t,n):zm(a,Yt.memoizedState,t,n)},useTransition:function(){var t=ah(vi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:fm,useId:jm,useHostTransitionStatus:ch,useFormState:Cm,useActionState:Cm,useOptimistic:function(t,n){var a=ge();return Yt!==null?_m(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nh,useCacheRefresh:qm},js=null,rl=0;function Hu(t){var n=rl;return rl+=1,js===null&&(js=[]),am(js,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Gu(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Km(t){var n=t._init;return n(t._payload)}function Xm(t){function n(U,I){if(t){var z=U.deletions;z===null?(U.deletions=[I],U.flags|=16):z.push(I)}}function a(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=mi(U,I),U.index=0,U.sibling=null,U}function f(U,I,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<I?(U.flags|=67108866,I):z):(U.flags|=67108866,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,I,z,Q){return I===null||I.tag!==6?(I=Nc(z,U.mode,Q),I.return=U,I):(I=c(I,z),I.return=U,I)}function w(U,I,z,Q){var at=z.type;return at===Z?H(U,I,z.props.children,Q,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Km(at)===I.type)?(I=c(I,z.props),ll(I,z),I.return=U,I):(I=wu(z.type,z.key,z.props,null,U.mode,Q),ll(I,z),I.return=U,I)}function B(U,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=Mc(z,U.mode,Q),I.return=U,I):(I=c(I,z.children||[]),I.return=U,I)}function H(U,I,z,Q,at){return I===null||I.tag!==7?(I=qa(z,U.mode,Q,at),I.return=U,I):(I=c(I,z),I.return=U,I)}function Y(U,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Nc(""+I,U.mode,z),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return z=wu(I.type,I.key,I.props,null,U.mode,z),ll(z,I),z.return=U,z;case G:return I=Mc(I,U.mode,z),I.return=U,I;case b:var Q=I._init;return I=Q(I._payload),Y(U,I,z)}if($t(I)||O(I))return I=qa(I,U.mode,z,null),I.return=U,I;if(typeof I.then=="function")return Y(U,Hu(I),z);if(I.$$typeof===ht)return Y(U,Iu(U,I),z);Gu(U,I)}return null}function P(U,I,z,Q){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(U,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===at?w(U,I,z,Q):null;case G:return z.key===at?B(U,I,z,Q):null;case b:return at=z._init,z=at(z._payload),P(U,I,z,Q)}if($t(z)||O(z))return at!==null?null:H(U,I,z,Q,null);if(typeof z.then=="function")return P(U,I,Hu(z),Q);if(z.$$typeof===ht)return P(U,I,Iu(U,z),Q);Gu(U,z)}return null}function k(U,I,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(z)||null,E(I,U,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return U=U.get(Q.key===null?z:Q.key)||null,w(I,U,Q,at);case G:return U=U.get(Q.key===null?z:Q.key)||null,B(I,U,Q,at);case b:var Ct=Q._init;return Q=Ct(Q._payload),k(U,I,z,Q,at)}if($t(Q)||O(Q))return U=U.get(z)||null,H(I,U,Q,at,null);if(typeof Q.then=="function")return k(U,I,z,Hu(Q),at);if(Q.$$typeof===ht)return k(U,I,z,Iu(I,Q),at);Gu(I,Q)}return null}function pt(U,I,z,Q){for(var at=null,Ct=null,lt=I,mt=I=0,Ie=null;lt!==null&&mt<z.length;mt++){lt.index>mt?(Ie=lt,lt=null):Ie=lt.sibling;var Bt=P(U,lt,z[mt],Q);if(Bt===null){lt===null&&(lt=Ie);break}t&&lt&&Bt.alternate===null&&n(U,lt),I=f(Bt,I,mt),Ct===null?at=Bt:Ct.sibling=Bt,Ct=Bt,lt=Ie}if(mt===z.length)return a(U,lt),Pt&&Ga(U,mt),at;if(lt===null){for(;mt<z.length;mt++)lt=Y(U,z[mt],Q),lt!==null&&(I=f(lt,I,mt),Ct===null?at=lt:Ct.sibling=lt,Ct=lt);return Pt&&Ga(U,mt),at}for(lt=l(lt);mt<z.length;mt++)Ie=k(lt,U,mt,z[mt],Q),Ie!==null&&(t&&Ie.alternate!==null&&lt.delete(Ie.key===null?mt:Ie.key),I=f(Ie,I,mt),Ct===null?at=Ie:Ct.sibling=Ie,Ct=Ie);return t&&lt.forEach(function(ra){return n(U,ra)}),Pt&&Ga(U,mt),at}function ft(U,I,z,Q){if(z==null)throw Error(s(151));for(var at=null,Ct=null,lt=I,mt=I=0,Ie=null,Bt=z.next();lt!==null&&!Bt.done;mt++,Bt=z.next()){lt.index>mt?(Ie=lt,lt=null):Ie=lt.sibling;var ra=P(U,lt,Bt.value,Q);if(ra===null){lt===null&&(lt=Ie);break}t&&lt&&ra.alternate===null&&n(U,lt),I=f(ra,I,mt),Ct===null?at=ra:Ct.sibling=ra,Ct=ra,lt=Ie}if(Bt.done)return a(U,lt),Pt&&Ga(U,mt),at;if(lt===null){for(;!Bt.done;mt++,Bt=z.next())Bt=Y(U,Bt.value,Q),Bt!==null&&(I=f(Bt,I,mt),Ct===null?at=Bt:Ct.sibling=Bt,Ct=Bt);return Pt&&Ga(U,mt),at}for(lt=l(lt);!Bt.done;mt++,Bt=z.next())Bt=k(lt,U,mt,Bt.value,Q),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?mt:Bt.key),I=f(Bt,I,mt),Ct===null?at=Bt:Ct.sibling=Bt,Ct=Bt);return t&&lt.forEach(function(vE){return n(U,vE)}),Pt&&Ga(U,mt),at}function Kt(U,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===Z&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===Z){if(I.tag===7){a(U,I.sibling),Q=c(I,z.props.children),Q.return=U,U=Q;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Km(at)===I.type){a(U,I.sibling),Q=c(I,z.props),ll(Q,z),Q.return=U,U=Q;break t}a(U,I);break}else n(U,I);I=I.sibling}z.type===Z?(Q=qa(z.props.children,U.mode,Q,z.key),Q.return=U,U=Q):(Q=wu(z.type,z.key,z.props,null,U.mode,Q),ll(Q,z),Q.return=U,U=Q)}return y(U);case G:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(U,I.sibling),Q=c(I,z.children||[]),Q.return=U,U=Q;break t}else{a(U,I);break}else n(U,I);I=I.sibling}Q=Mc(z,U.mode,Q),Q.return=U,U=Q}return y(U);case b:return at=z._init,z=at(z._payload),Kt(U,I,z,Q)}if($t(z))return pt(U,I,z,Q);if(O(z)){if(at=O(z),typeof at!="function")throw Error(s(150));return z=at.call(z),ft(U,I,z,Q)}if(typeof z.then=="function")return Kt(U,I,Hu(z),Q);if(z.$$typeof===ht)return Kt(U,I,Iu(U,z),Q);Gu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(U,I.sibling),Q=c(I,z),Q.return=U,U=Q):(a(U,I),Q=Nc(z,U.mode,Q),Q.return=U,U=Q),y(U)):a(U,I)}return function(U,I,z,Q){try{rl=0;var at=Kt(U,I,z,Q);return js=null,at}catch(lt){if(lt===Jr||lt===Nu)throw lt;var Ct=an(29,lt,null,U.mode);return Ct.lanes=Q,Ct.return=U,Ct}finally{}}}var qs=Xm(!0),Zm=Xm(!1),Tn=K(null),Yn=null;function Qi(t){var n=t.alternate;J(Te,Te.current&1),J(Tn,t),Yn===null&&(n===null||zs.current!==null||n.memoizedState!==null)&&(Yn=t)}function Jm(t){if(t.tag===22){if(J(Te,Te.current),J(Tn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Yi()}function Yi(){J(Te,Te.current),J(Tn,Tn.current)}function Ei(t){et(Tn),Yn===t&&(Yn=null),et(Te)}var Te=K(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ef(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=un(),c=qi(l);c.payload=n,a!=null&&(c.callback=a),n=Hi(t,c,l),n!==null&&(on(n,t,l),Wr(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=un(),c=qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Hi(t,c,l),n!==null&&(on(n,t,l),Wr(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=un(),l=qi(a);l.tag=2,n!=null&&(l.callback=n),n=Hi(t,l,a),n!==null&&(on(n,t,a),Wr(n,t,a))}};function $m(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Hr(a,l)||!Hr(c,f):!0}function Wm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&dh.enqueueReplaceState(n,n.state,null)}function Ja(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tg(t){Yu(t)}function eg(t){console.error(t)}function ng(t){Yu(t)}function Fu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ig(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mh(t,n,a){return a=qi(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,n)},a}function ag(t){return t=qi(t),t.tag=3,t}function sg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){ig(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){ig(n,a,l),typeof c!="function"&&($i===null?$i=new Set([this]):$i.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function v0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Kr(n,a,c,!0),a=Tn.current,a!==null){switch(a.tag){case 13:return Yn===null?Bh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Hc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Hc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kh(t,l,c)),!1}throw Error(s(435,a.tag))}return kh(t,l,c),Bh(),!1}if(Pt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Lc&&(t=Error(s(422),{cause:l}),Fr(yn(t,a)))):(l!==Lc&&(n=Error(s(423),{cause:l}),Fr(yn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=yn(l,a),c=mh(t.stateNode,l,c),Yc(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=yn(f,a),ml===null?ml=[f]:ml.push(f),le!==4&&(le=2),n===null)return!0;l=yn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=mh(a.stateNode,l,t),Yc(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($i===null||!$i.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=ag(c),sg(c,t,a,l),Yc(a,c),!1}a=a.return}while(a!==null);return!1}var rg=Error(s(461)),De=!1;function xe(t,n,a,l){n.child=t===null?Zm(n,null,a,l):qs(n,t.child,a,l)}function lg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Ka(n),l=Jc(t,n,a,y,f,c),E=$c(),t!==null&&!De?(Wc(t,n,c),Ti(t,n,c)):(Pt&&E&&xc(n),n.flags|=1,xe(t,n,l,c),n.child)}function ug(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Oc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,og(t,n,f,l,c)):(t=wu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ah(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Hr,a(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=mi(f,l),t.ref=n.ref,t.return=n,n.child=t}function og(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Hr(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Ah(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return gh(t,n,a,l,c)}function cg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return hg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?om(n,f):Kc(),Jm(n);else return n.lanes=n.childLanes=536870912,hg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ou(n,f.cachePool),om(n,f),Yi(),n.memoizedState=null):(t!==null&&Ou(n,null),Kc(),Yi());return xe(t,n,c,a),n.child}function hg(t,n,a,l){var c=qc();return c=c===null?null:{parent:Ee._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Ou(n,null),Kc(),Jm(n),t!==null&&Kr(t,n,l,!0),null}function Ku(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function gh(t,n,a,l,c){return Ka(n),a=Jc(t,n,a,l,void 0,c),l=$c(),t!==null&&!De?(Wc(t,n,c),Ti(t,n,c)):(Pt&&l&&xc(n),n.flags|=1,xe(t,n,a,c),n.child)}function fg(t,n,a,l,c,f){return Ka(n),n.updateQueue=null,a=hm(n,l,a,c),cm(t),l=$c(),t!==null&&!De?(Wc(t,n,f),Ti(t,n,f)):(Pt&&l&&xc(n),n.flags|=1,xe(t,n,a,f),n.child)}function dg(t,n,a,l,c){if(Ka(n),n.stateNode===null){var f=Ns,y=a.contextType;typeof y=="object"&&y!==null&&(f=je(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=dh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gc(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?je(y):Ns,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(fh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&dh.enqueueReplaceState(f,f.state,null),el(n,l,f,c),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=Ja(a,E);f.props=w;var B=f.context,H=a.contextType;y=Ns,typeof H=="object"&&H!==null&&(y=je(H));var Y=a.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&Wm(n,f,l,y),ji=!1;var P=n.memoizedState;f.state=P,el(n,l,f,c),tl(),B=n.memoizedState,E||P!==B||ji?(typeof Y=="function"&&(fh(n,a,Y,l),B=n.memoizedState),(w=ji||$m(n,a,w,l,P,B,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qc(t,n),y=n.memoizedProps,H=Ja(a,y),f.props=H,Y=n.pendingProps,P=f.context,B=a.contextType,w=Ns,typeof B=="object"&&B!==null&&(w=je(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||P!==w)&&Wm(n,f,l,w),ji=!1,P=n.memoizedState,f.state=P,el(n,l,f,c),tl();var k=n.memoizedState;y!==Y||P!==k||ji||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(fh(n,a,E,l),k=n.memoizedState),(H=ji||$m(n,a,H,l,P,k,w)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=qs(n,t.child,null,c),n.child=qs(n,null,a,c)):xe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function mg(t,n,a,l){return Yr(),n.flags|=256,xe(t,n,a,l),n.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yh(t){return{baseLanes:t,cachePool:em()}}function _h(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=An),t}function gg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Qi(n):Yi(),Pt){var E=re,w;if(w=E){t:{for(w=E,E=Qn;w.nodeType!==8;){if(!E){E=null;break t}if(w=On(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:Ha!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},w=an(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,Xe=n,re=null,w=!0):w=!1}w||Ya(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ef(E)?n.lanes=32:n.lanes=536870912,null;Ei(n)}return E=l.children,l=l.fallback,c?(Yi(),c=n.mode,E=Xu({mode:"hidden",children:E},c),l=qa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=yh(a),c.childLanes=_h(t,y,a),n.memoizedState=ph,l):(Qi(n),vh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Qi(n),n.flags&=-257,n=Eh(t,n,a)):n.memoizedState!==null?(Yi(),n.child=t.child,n.flags|=128,n=null):(Yi(),c=l.fallback,E=n.mode,l=Xu({mode:"visible",children:l.children},E),c=qa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,qs(n,t.child,null,a),l=n.child,l.memoizedState=yh(a),l.childLanes=_h(t,y,a),n.memoizedState=ph,n=c);else if(Qi(n),ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,Fr({value:l,source:null,stack:null}),n=Eh(t,n,a)}else if(De||Kr(t,n,a,!1),y=(a&t.childLanes)!==0,De||y){if(y=Jt,y!==null&&(l=a&-a,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Os(t,l),on(y,t,l),rg;E.data==="$?"||Bh(),n=Eh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,re=On(E.nextSibling),Xe=n,Pt=!0,Qa=null,Qn=!1,t!==null&&(vn[En++]=gi,vn[En++]=pi,vn[En++]=Ha,gi=t.id,pi=t.overflow,Ha=n),n=vh(n,l.children),n.flags|=4096);return n}return c?(Yi(),c=l.fallback,E=n.mode,w=t.child,B=w.sibling,l=mi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?c=mi(B,c):(c=qa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=yh(a):(w=E.cachePool,w!==null?(B=Ee._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=em(),E={baseLanes:E.baseLanes|a,cachePool:w}),c.memoizedState=E,c.childLanes=_h(t,y,a),n.memoizedState=ph,l):(Qi(n),a=t.child,t=a.sibling,a=mi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function vh(t,n){return n=Xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Xu(t,n){return t=an(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Eh(t,n,a){return qs(n,t.child,null,a),t=vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Bc(t.return,n,a)}function Th(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function yg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,a),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,a,n);else if(t.tag===19)pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Te,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Th(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Qu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Th(n,!0,a,null,f);break;case"together":Th(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ji|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Kr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=mi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=mi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ah(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function E0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ki(n,Ee,t.memoizedState.cache),Yr();break;case 27:case 5:Ni(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gg(t,n,a):(Qi(n),t=Ti(t,n,a),t!==null?t.sibling:null);Qi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Kr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return yg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,cg(t,n,a);case 24:ki(n,Ee,t.memoizedState.cache)}return Ti(t,n,a)}function _g(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Ah(t,a)&&(n.flags&128)===0)return De=!1,E0(t,n,a);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&Kd(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Oc(l)?(t=Ja(l,t),n.tag=1,n=dg(null,n,l,t,a)):(n.tag=0,n=gh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Ot){n.tag=11,n=lg(null,n,l,t,a);break t}else if(c===M){n.tag=14,n=ug(null,n,l,t,a);break t}}throw n=ne(l)||l,Error(s(306,n,""))}}return n;case 0:return gh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ja(l,n.pendingProps),dg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qc(t,n),el(n,l,null,a);var y=n.memoizedState;if(l=y.cache,ki(n,Ee,l),l!==f.cache&&Pc(n,[Ee],a,!0),tl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=mg(t,n,l,a);break t}else if(l!==c){c=yn(Error(s(424)),n),Fr(c),n=mg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(re=On(t.firstChild),Xe=n,Pt=!0,Qa=null,Qn=!0,a=Zm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yr(),l===c){n=Ti(t,n,a);break t}xe(t,n,l,a)}n=n.child}return n;case 26:return Ku(t,n),t===null?(a=Ap(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=oo(yt.current).createElement(a),l[ye]=n,l[fe]=t,Le(l,a,t),ue(l),n.stateNode=l):n.memoizedState=Ap(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ni(n),t===null&&Pt&&(l=n.stateNode=vp(n.type,n.pendingProps,yt.current),Xe=n,Qn=!0,c=re,ea(n.type)?(nf=c,re=On(l.firstChild)):re=c),xe(t,n,n.pendingProps.children,a),Ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=re)&&(l=K0(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,Xe=n,re=On(l.firstChild),Qn=!1,c=!0):c=!1),c||Ya(n)),Ni(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,$h(c,f)?l=null:y!==null&&$h(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Jc(t,n,f0,null,null,a),Sl._currentValue=c),Ku(t,n),xe(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=re)&&(a=X0(a,n.pendingProps,Qn),a!==null?(n.stateNode=a,Xe=n,re=null,t=!0):t=!1),t||Ya(n)),null;case 13:return gg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=qs(n,null,l,a):xe(t,n,l,a),n.child;case 11:return lg(t,n,n.type,n.pendingProps,a);case 7:return xe(t,n,n.pendingProps,a),n.child;case 8:return xe(t,n,n.pendingProps.children,a),n.child;case 12:return xe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ki(n,n.type,l.value),xe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ka(n),c=je(c),l=l(c),n.flags|=1,xe(t,n,l,a),n.child;case 14:return ug(t,n,n.type,n.pendingProps,a);case 15:return og(t,n,n.type,n.pendingProps,a);case 19:return yg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Xu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=mi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return cg(t,n,a);case 24:return Ka(n),l=je(Ee),t===null?(c=qc(),c===null&&(c=Jt,f=kc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Gc(n),ki(n,Ee,c)):((t.lanes&a)!==0&&(Qc(t,n),el(n,null,null,a),tl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ki(n,Ee,l)):(l=f.cache,ki(n,Ee,l),l!==c.cache&&Pc(n,[Ee],a,!0))),xe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ai(t){t.flags|=4}function vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cp(n)){if(n=Tn.current,n!==null&&((xt&4194048)===xt?Yn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Yn))throw $r=Hc,nm;t.flags|=8192}}function Zu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Rr():536870912,t.lanes|=n,Ys|=n)}function ul(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function T0(t,n,a){var l=n.pendingProps;switch(Uc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),_i(Ee),Mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qr(n)?Ai(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jd())),ie(n),null;case 26:return a=n.memoizedState,t===null?(Ai(n),a!==null?(ie(n),vg(n,a)):(ie(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ai(n),ie(n),vg(n,a)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ai(n),ie(n),n.flags&=-16777217),null;case 27:ei(n),a=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=ot.current,Qr(n)?Xd(n):(t=vp(c,l,a),n.stateNode=t,Ai(n))}return ie(n),null;case 5:if(ei(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=ot.current,Qr(n))Xd(n);else{switch(c=oo(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ye]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ai(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ai(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=yt.current,Qr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fp(t.nodeValue,a)),t||Ya(n)}else t=oo(t).createTextNode(l),t[ye]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Qr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else Yr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ei(n),n):(Ei(n),null)}if(Ei(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null;case 4:return Mn(),t===null&&Fh(n.stateNode.containerInfo),ie(n),null;case 10:return _i(n.type),ie(n),null;case 19:if(et(Te),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)ul(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Qu(t),f!==null){for(n.flags|=128,ul(c,!1),t=f.updateQueue,n.updateQueue=t,Zu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Fd(a,t),a=a.sibling;return J(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&hn()>Wu&&(n.flags|=128,l=!0,ul(c,!1),n.lanes=4194304)}else{if(!l)if(t=Qu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Zu(n,t),ul(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ie(n),null}else 2*hn()-c.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,l=!0,ul(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=hn(),n.sibling=null,t=Te.current,J(Te,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ei(n),Xc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Zu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&et(Xa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),_i(Ee),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function A0(t,n){switch(Uc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return _i(Ee),Mn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ei(n),null;case 13:if(Ei(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Yr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Te),null;case 4:return Mn(),null;case 10:return _i(n.type),null;case 22:case 23:return Ei(n),Xc(),t!==null&&et(Xa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return _i(Ee),null;case 25:return null;default:return null}}function Eg(t,n){switch(Uc(n),n.tag){case 3:_i(Ee),Mn();break;case 26:case 27:case 5:ei(n);break;case 4:Mn();break;case 13:Ei(n);break;case 19:et(Te);break;case 10:_i(n.type);break;case 22:case 23:Ei(n),Xc(),t!==null&&et(Xa);break;case 24:_i(Ee)}}function ol(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Fi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(H){Xt(c,w,H)}}}l=l.next}while(l!==f)}}catch(H){Xt(n,n.return,H)}}function Tg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{um(n,a)}catch(l){Xt(t,t.return,l)}}}function Ag(t,n,a){a.props=Ja(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Fn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function Sg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Sh(t,n,a){try{var l=t.stateNode;H0(l,t.type,a,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ea(t.type)||t.tag===4}function bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ea(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=uo));else if(l!==4&&(l===27&&ea(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Rh(t,n,a),t=t.sibling;t!==null;)Rh(t,n,a),t=t.sibling}function Ju(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ea(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ju(t,n,a),t=t.sibling;t!==null;)Ju(t,n,a),t=t.sibling}function Rg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[ye]=t,n[fe]=a}catch(f){Xt(t,t.return,f)}}var Si=!1,ce=!1,wh=!1,wg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function S0(t,n){if(t=t.containerInfo,Zh=po,t=zd(t),bc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,w=-1,B=0,H=0,Y=t,P=null;e:for(;;){for(var k;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(w=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)P=Y,Y=k;for(;;){if(Y===t)break e;if(P===a&&++B===c&&(E=y),P===f&&++H===l&&(w=y),(k=Y.nextSibling)!==null)break;Y=P,P=Y.parentNode}Y=k}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jh={focusedElem:t,selectionRange:a},po=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var pt=Ja(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)tf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Cg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),l&4&&ol(5,a);break;case 1:if(Ki(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=Ja(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&Tg(a),l&512&&cl(a,a.return);break;case 3:if(Ki(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{um(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&Rg(a);case 26:case 5:Ki(t,a),n===null&&l&4&&Sg(a),l&512&&cl(a,a.return);break;case 12:Ki(t,a);break;case 13:Ki(t,a),l&4&&Ig(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=N0.bind(null,a),Z0(t,a))));break;case 22:if(l=a.memoizedState!==null||Si,!l){n=n!==null&&n.memoizedState!==null||ce,c=Si;var f=ce;Si=l,(ce=n)&&!f?Xi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Si=c,ce=f}break;case 30:break;default:Ki(t,a)}}function Dg(t){var n=t.alternate;n!==null&&(t.alternate=null,Dg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Li(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function bi(t,n,a){for(a=a.child;a!==null;)Vg(t,n,a),a=a.sibling}function Vg(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:ce||Fn(a,n),bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||Fn(a,n);var l=te,c=Je;ea(a.type)&&(te=a.stateNode,Je=!1),bi(t,n,a),vl(a.stateNode),te=l,Je=c;break;case 5:ce||Fn(a,n);case 6:if(l=te,c=Je,te=null,bi(t,n,a),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{te.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:te!==null&&(Je?(t=te,yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):yp(te,a.stateNode));break;case 4:l=te,c=Je,te=a.stateNode.containerInfo,Je=!0,bi(t,n,a),te=l,Je=c;break;case 0:case 11:case 14:case 15:ce||Fi(2,a,n),ce||Fi(4,a,n),bi(t,n,a);break;case 1:ce||(Fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ag(a,n,l)),bi(t,n,a);break;case 21:bi(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,bi(t,n,a),ce=l;break;default:bi(t,n,a)}}function Ig(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Xt(n,n.return,a)}}function b0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wg),n;default:throw Error(s(435,t.tag))}}function Ch(t,n){var a=b0(t);n.forEach(function(l){var c=M0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ea(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(s(160));Vg(f,y,c),te=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Og(n,t),n=n.sibling}var In=null;function Og(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(n,t),rn(t),l&4&&(Fi(3,t,t.return),ol(3,t),Fi(5,t,t.return));break;case 1:sn(n,t),rn(t),l&512&&(ce||a===null||Fn(a,a.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=In;if(sn(n,t),rn(t),l&512&&(ce||a===null||Fn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[wa]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[ye]=t,ue(f),l=f;break t;case"link":var y=Rp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Rp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,ue(f),l=f}t.stateNode=l}else wp(c,t.type,t.stateNode);else t.stateNode=bp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?wp(c,t.type,t.stateNode):bp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sh(t,t.memoizedProps,a.memoizedProps)}break;case 27:sn(n,t),rn(t),l&512&&(ce||a===null||Fn(a,a.return)),a!==null&&l&4&&Sh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(sn(n,t),rn(t),l&512&&(ce||a===null||Fn(a,a.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Sh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(wh=!0);break;case 6:if(sn(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(fo=null,c=In,In=co(n.containerInfo),sn(n,t),In=c,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(n.containerInfo)}catch(k){Xt(t,t.return,k)}wh&&(wh=!1,Ng(t));break;case 4:l=In,In=co(t.stateNode.containerInfo),sn(n,t),rn(t),In=l;break;case 12:sn(n,t),rn(t);break;case 13:sn(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mh=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Si,H=ce;if(Si=B||c,ce=H||w,sn(n,t),ce=H,Si=B,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Si||ce||$a(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,P=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(k){Xt(w,w.return,k)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(k){Xt(w,w.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ch(t,a))));break;case 19:sn(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ch(t,l)));break;case 30:break;case 21:break;default:sn(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(bg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=bh(t);Ju(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(dn(y,""),a.flags&=-33);var E=bh(t);Ju(t,E,y);break;case 3:case 4:var w=a.stateNode.containerInfo,B=bh(t);Rh(t,B,w);break;default:throw Error(s(161))}}catch(H){Xt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ng(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ng(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(t,n.alternate,n),n=n.sibling}function $a(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),$a(n);break;case 1:Fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ag(n,n.return,a),$a(n);break;case 27:vl(n.stateNode);case 26:case 5:Fn(n,n.return),$a(n);break;case 22:n.memoizedState===null&&$a(n);break;case 30:$a(n);break;default:$a(n)}t=t.sibling}}function Xi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(c,f,a),ol(4,f);break;case 1:if(Xi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)lm(w[c],E)}catch(B){Xt(l,l.return,B)}}a&&y&64&&Tg(f),cl(f,f.return);break;case 27:Rg(f);case 26:case 5:Xi(c,f,a),a&&l===null&&y&4&&Sg(f),cl(f,f.return);break;case 12:Xi(c,f,a);break;case 13:Xi(c,f,a),a&&y&4&&Ig(c,f);break;case 22:f.memoizedState===null&&Xi(c,f,a),cl(f,f.return);break;case 30:break;default:Xi(c,f,a)}n=n.sibling}}function Dh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xr(a))}function Vh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xr(t))}function Kn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mg(t,n,a,l),n=n.sibling}function Mg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(t,n,a,l),c&2048&&ol(9,n);break;case 1:Kn(t,n,a,l);break;case 3:Kn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xr(t)));break;case 12:if(c&2048){Kn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Xt(n,n.return,w)}}else Kn(t,n,a,l);break;case 13:Kn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(t,n,a,l):hl(t,n):f._visibility&2?Kn(t,n,a,l):(f._visibility|=2,Hs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Dh(y,n);break;case 24:Kn(t,n,a,l),c&2048&&Vh(n.alternate,n);break;default:Kn(t,n,a,l)}}function Hs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,w=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Hs(f,y,E,w,c),ol(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Hs(f,y,E,w,c):hl(f,y):(H._visibility|=2,Hs(f,y,E,w,c)),c&&B&2048&&Dh(y.alternate,y);break;case 24:Hs(f,y,E,w,c),c&&B&2048&&Vh(y.alternate,y);break;default:Hs(f,y,E,w,c)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:hl(a,l),c&2048&&Dh(l.alternate,l);break;case 24:hl(a,l),c&2048&&Vh(l.alternate,l);break;default:hl(a,l)}n=n.sibling}}var fl=8192;function Gs(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 26:Gs(t),t.flags&fl&&t.memoizedState!==null&&oE(In,t.memoizedState,t.memoizedProps);break;case 5:Gs(t);break;case 3:case 4:var n=In;In=co(t.stateNode.containerInfo),Gs(t),In=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=fl,fl=16777216,Gs(t),fl=n):Gs(t));break;default:Gs(t)}}function Ug(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,zg(l,t)}Ug(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lg(t),t=t.sibling}function Lg(t){switch(t.tag){case 0:case 11:case 15:dl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:dl(t);break;case 12:dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,$u(t)):dl(t);break;default:dl(t)}}function $u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,zg(l,t)}Ug(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),$u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,$u(n));break;default:$u(n)}t=t.sibling}}function zg(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Fi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xr(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Dg(l),l===a){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var R0={getCacheForType:function(t){var n=je(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},w0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Dt=null,xt=0,Gt=0,ln=null,Zi=!1,Qs=!1,Ih=!1,Ri=0,le=0,Ji=0,Wa=0,Oh=0,An=0,Ys=0,ml=null,$e=null,Nh=!1,Mh=0,Wu=1/0,to=null,$i=null,Ue=0,Wi=null,Fs=null,Ks=0,xh=0,Uh=null,Bg=null,gl=0,Lh=null;function un(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(q.T!==null){var t=Us;return t!==0?t:Hh()}return xi()}function Pg(){An===0&&(An=(xt&536870912)===0||Pt?br():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),An}function on(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Xs(t,0),ta(t,xt,An,!1)),ii(t,a),((Ht&2)===0||t!==Jt)&&(t===Jt&&((Ht&2)===0&&(Wa|=a),le===4&&ta(t,xt,An,!1)),Xn(t))}function kg(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ra(t,n),c=l?V0(t,n):Ph(t,n,!0),f=l;do{if(c===0){Qs&&!l&&ta(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!C0(a)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=ml;var w=E.current.memoizedState.isDehydrated;if(w&&(Xs(E,y).flags|=256),y=Ph(E,y,!1),y!==2){if(Ih&&!w){E.errorRecoveryDisabledLanes|=f,Wa|=f,c=4;break t}f=$e,$e=c,f!==null&&($e===null?$e=f:$e.push.apply($e,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Xs(t,0),ta(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ta(l,n,An,!Zi);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Mh+300-hn(),10<c)){if(ta(l,n,An,!Zi),fs(l,0,!0)!==0)break t;l.timeoutHandle=gp(jg.bind(null,l,a,$e,to,Nh,n,An,Wa,Ys,Zi,f,2,-0,0),c);break t}jg(l,a,$e,to,Nh,n,An,Wa,Ys,Zi,f,0,-0,0)}}break}while(!0);Xn(t)}function jg(t,n,a,l,c,f,y,E,w,B,H,Y,P,k){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:uE},xg(n),Y=cE(),Y!==null)){t.cancelPendingCommit=Y(Kg.bind(null,t,n,f,a,l,c,y,E,w,H,1,P,k)),ta(t,f,y,!B);return}Kg(t,n,f,a,l,c,y,E,w)}function C0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!nn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ta(t,n,a,l){n&=~Oh,n&=~Wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&xn(t,a,n)}function eo(){return(Ht&6)===0?(pl(0),!1):!0}function zh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,yi=Fa=null,th(t),js=null,rl=0,t=Dt;for(;t!==null;)Eg(t.alternate,t),t=t.return;Dt=null}}function Xs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Q0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zh(),Jt=t,Dt=a=mi(t.current,null),xt=n,Gt=0,ln=null,Zi=!1,Qs=Ra(t,n),Ih=!1,Ys=An=Oh=Wa=Ji=le=0,$e=ml=null,Nh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ri=n,Su(),a}function qg(t,n){bt=null,q.H=qu,n===Jr||n===Nu?(n=sm(),Gt=3):n===nm?(n=sm(),Gt=4):Gt=n===rg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ln=n,Dt===null&&(le=1,Fu(t,yn(n,t.current)))}function Hg(){var t=q.H;return q.H=qu,t===null?qu:t}function Gg(){var t=q.A;return q.A=R0,t}function Bh(){le=4,Zi||(xt&4194048)!==xt&&Tn.current!==null||(Qs=!0),(Ji&134217727)===0&&(Wa&134217727)===0||Jt===null||ta(Jt,xt,An,!1)}function Ph(t,n,a){var l=Ht;Ht|=2;var c=Hg(),f=Gg();(Jt!==t||xt!==n)&&(to=null,Xs(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,w=ln;switch(Gt){case 8:zh(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var B=Gt;if(Gt=0,ln=null,Zs(t,E,w,B),a&&Qs){y=0;break t}break;default:B=Gt,Gt=0,ln=null,Zs(t,E,w,B)}}D0(),y=le;break}catch(H){qg(t,H)}while(!0);return n&&t.shellSuspendCounter++,yi=Fa=null,Ht=l,q.H=c,q.A=f,Dt===null&&(Jt=null,xt=0,Su()),y}function D0(){for(;Dt!==null;)Qg(Dt)}function V0(t,n){var a=Ht;Ht|=2;var l=Hg(),c=Gg();Jt!==t||xt!==n?(to=null,Wu=hn()+500,Xs(t,n)):Qs=Ra(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=ln;e:switch(Gt){case 1:Gt=0,ln=null,Zs(t,n,f,1);break;case 2:case 9:if(im(f)){Gt=0,ln=null,Yg(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Xn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:im(f)?(Gt=0,ln=null,Yg(n)):(Gt=0,ln=null,Zs(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Cp(y)){Gt=0,ln=null;var w=E.sibling;if(w!==null)Dt=w;else{var B=E.return;B!==null?(Dt=B,no(B)):Dt=null}break e}}Gt=0,ln=null,Zs(t,n,f,5);break;case 6:Gt=0,ln=null,Zs(t,n,f,6);break;case 8:zh(),le=6;break t;default:throw Error(s(462))}}I0();break}catch(H){qg(t,H)}while(!0);return yi=Fa=null,q.H=l,q.A=c,Ht=a,Dt!==null?0:(Jt=null,xt=0,Su(),le)}function I0(){for(;Dt!==null&&!Er();)Qg(Dt)}function Qg(t){var n=_g(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,n===null?no(t):Dt=n}function Yg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=fg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=fg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:th(n);default:Eg(a,n),n=Dt=Fd(n,Ri),n=_g(a,n,Ri)}t.memoizedProps=t.pendingProps,n===null?no(t):Dt=n}function Zs(t,n,a,l){yi=Fa=null,th(n),js=null,rl=0;var c=n.return;try{if(v0(t,c,n,a,xt)){le=1,Fu(t,yn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;le=1,Fu(t,yn(a,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:Qs||(xt&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):no(n)}function no(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,Zi);return}t=n.return;var a=T0(n.alternate,n,Ri);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);le===0&&(le=5)}function Fg(t,n){do{var a=A0(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);le=6,Dt=null}function Kg(t,n,a,l,c,f,y,E,w){t.cancelPendingCommit=null;do io();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Vc,wr(t,a,f,y,E,w),t===Jt&&(Dt=Jt=null,xt=0),Fs=n,Wi=t,Ks=a,xh=f,Uh=c,Bg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,x0(Ta,function(){return Wg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{S0(t,n,a)}finally{Ht=y,tt.p=c,q.T=l}}Ue=1,Xg(),Zg(),Jg()}}function Xg(){if(Ue===1){Ue=0;var t=Wi,n=Fs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Og(n,t);var f=Jh,y=zd(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ld(E.ownerDocument.documentElement,E)){if(w!==null&&bc(E)){var B=w.start,H=w.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,P=Y&&Y.defaultView||window;if(P.getSelection){var k=P.getSelection(),pt=E.textContent.length,ft=Math.min(w.start,pt),Kt=w.end===void 0?ft:Math.min(w.end,pt);!k.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var U=Ud(E,ft),I=Ud(E,Kt);if(U&&I&&(k.rangeCount!==1||k.anchorNode!==U.node||k.anchorOffset!==U.offset||k.focusNode!==I.node||k.focusOffset!==I.offset)){var z=Y.createRange();z.setStart(U.node,U.offset),k.removeAllRanges(),ft>Kt?(k.addRange(z),k.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),k.addRange(z))}}}}for(Y=[],k=E;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}po=!!Zh,Jh=Zh=null}finally{Ht=c,tt.p=l,q.T=a}}t.current=n,Ue=2}}function Zg(){if(Ue===2){Ue=0;var t=Wi,n=Fs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Cg(t,n.alternate,n)}finally{Ht=c,tt.p=l,q.T=a}}Ue=3}}function Jg(){if(Ue===4||Ue===3){Ue=0,$l();var t=Wi,n=Fs,a=Ks,l=Bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Fs=Wi=null,$g(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&($i=null),ds(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,c=tt.p,tt.p=2,q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{q.T=n,tt.p=c}}(Ks&3)!==0&&io(),Xn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Lh?gl++:(gl=0,Lh=t):gl=0,pl(0)}}function $g(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xr(n)))}function io(t){return Xg(),Zg(),Jg(),Wg()}function Wg(){if(Ue!==5)return!1;var t=Wi,n=xh;xh=0;var a=ds(Ks),l=q.T,c=tt.p;try{tt.p=32>a?32:a,q.T=null,a=Uh,Uh=null;var f=Wi,y=Ks;if(Ue=0,Fs=Wi=null,Ks=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Lg(f.current),Mg(f,f.current,y,a),Ht=E,pl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=c,q.T=l,$g(t,n)}}function tp(t,n,a){n=yn(a,n),n=mh(t.stateNode,n,2),t=Hi(t,n,2),t!==null&&(ii(t,2),Xn(t))}function Xt(t,n,a){if(t.tag===3)tp(t,t,a);else for(;n!==null;){if(n.tag===3){tp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($i===null||!$i.has(l))){t=yn(a,t),a=ag(2),l=Hi(n,a,2),l!==null&&(sg(a,l,n,t),ii(l,2),Xn(l));break}}n=n.return}}function kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new w0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ih=!0,c.add(a),t=O0.bind(null,t,n,a),n.then(t,t))}function O0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(xt&a)===a&&(le===4||le===3&&(xt&62914560)===xt&&300>hn()-Mh?(Ht&2)===0&&Xs(t,0):Oh|=a,Ys===xt&&(Ys=0)),Xn(t)}function ep(t,n){n===0&&(n=Rr()),t=Os(t,n),t!==null&&(ii(t,n),Xn(t))}function N0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ep(t,a)}function M0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ep(t,a)}function x0(t,n){return va(t,n)}var ao=null,Js=null,jh=!1,so=!1,qh=!1,ts=0;function Xn(t){t!==Js&&t.next===null&&(Js===null?ao=Js=t:Js=Js.next=t),so=!0,jh||(jh=!0,L0())}function pl(t,n){if(!qh&&so){qh=!0;do for(var a=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,sp(l,f))}else f=xt,f=fs(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ra(l,f)||(a=!0,sp(l,f));l=l.next}while(a);qh=!1}}function U0(){np()}function np(){so=jh=!1;var t=0;ts!==0&&(G0()&&(t=ts),ts=0);for(var n=hn(),a=null,l=ao;l!==null;){var c=l.next,f=ip(l,n);f===0?(l.next=null,a===null?ao=c:a.next=c,c===null&&(Js=a)):(a=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}pl(t)}function ip(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,w=c[y];w===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Sr(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=xt,a=fs(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ra(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ea(l),ds(a)){case 2:case 8:a=cs;break;case 32:a=Ta;break;case 268435456:a=hs;break;default:a=Ta}return l=ap.bind(null,t),a=va(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function ap(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(io()&&t.callbackNode!==a)return null;var l=xt;return l=fs(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(kg(t,l,n),ip(t,hn()),t.callbackNode!=null&&t.callbackNode===a?ap.bind(null,t):null)}function sp(t,n){if(io())return null;kg(t,n,!0)}function L0(){Y0(function(){(Ht&6)!==0?va(Tr,U0):np()})}function Hh(){return ts===0&&(ts=br()),ts}function rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:vs(""+t)}function lp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function z0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=rp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?rp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Es("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ts!==0){var w=y?lp(c,y):new FormData(c);oh(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=y?lp(c,y):new FormData(c),oh(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Gh=0;Gh<Dc.length;Gh++){var Qh=Dc[Gh],B0=Qh.toLowerCase(),P0=Qh[0].toUpperCase()+Qh.slice(1);Vn(B0,"on"+P0)}Vn(kd,"onAnimationEnd"),Vn(jd,"onAnimationIteration"),Vn(qd,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(n0,"onTransitionRun"),Vn(i0,"onTransitionStart"),Vn(a0,"onTransitionCancel"),Vn(Hd,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function up(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Yu(H)}c.currentTarget=null,f=w}else for(y=0;y<l.length;y++){if(E=l[y],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(H){Yu(H)}c.currentTarget=null,f=w}}}}function Vt(t,n){var a=n[Dr];a===void 0&&(a=n[Dr]=new Set);var l=t+"__bubble";a.has(l)||(op(n,t,2,!1),a.add(l))}function Yh(t,n,a){var l=0;n&&(l|=4),op(a,t,l,n)}var ro="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[ro]){t[ro]=!0,Vr.forEach(function(a){a!=="selectionchange"&&(k0.has(a)||Yh(a,!1,t),Yh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ro]||(n[ro]=!0,Yh("selectionchange",!1,n))}}function op(t,n,a,l){switch(Mp(n)){case 2:var c=dE;break;case 8:c=mE;break;default:c=uf}a=c.bind(null,n,a,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Kh(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=f=y;continue t}E=E.parentNode}}l=l.return}uu(function(){var B=f,H=mn(a),Y=[];t:{var P=Gd.get(t);if(P!==void 0){var k=Es,pt=t;switch(t){case"keypress":if(kn(a)===0)break t;case"keydown":case"keyup":k=ws;break;case"focusin":pt="focus",k=Ss;break;case"focusout":pt="blur",k=Ss;break;case"beforeblur":case"afterblur":k=Ss;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=pu;break;case kd:case jd:case qd:k=bs;break;case Hd:k=_u;break;case"scroll":case"scrollend":k=ou;break;case"wheel":k=Cs;break;case"copy":case"cut":case"paste":k=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=jr;break;case"toggle":case"beforetoggle":k=Eu}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),U=ft?P!==null?P+"Capture":null:P;ft=[];for(var I=B,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||U===null||(Q=Ma(I,U),Q!=null&&ft.push(_l(I,Q,z))),Kt)break;I=I.return}0<ft.length&&(P=new k(P,pt,null,a,H),Y.push({event:P,listeners:ft}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&a!==ui&&(pt=a.relatedTarget||a.fromElement)&&(ai(pt)||pt[fn]))break t;if((k||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,k?(pt=a.relatedTarget||a.toElement,k=B,pt=pt?ai(pt):null,pt!==null&&(Kt=h(pt),ft=pt.tag,pt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(pt=null)):(k=null,pt=B),k!==pt)){if(ft=pn,Q="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(ft=jr,Q="onPointerLeave",U="onPointerEnter",I="pointer"),Kt=k==null?P:Ln(k),z=pt==null?P:Ln(pt),P=new ft(Q,I+"leave",k,a,H),P.target=Kt,P.relatedTarget=z,Q=null,ai(H)===B&&(ft=new ft(U,I+"enter",pt,a,H),ft.target=z,ft.relatedTarget=Kt,Q=ft),Kt=Q,k&&pt)e:{for(ft=k,U=pt,I=0,z=ft;z;z=$s(z))I++;for(z=0,Q=U;Q;Q=$s(Q))z++;for(;0<I-z;)ft=$s(ft),I--;for(;0<z-I;)U=$s(U),z--;for(;I--;){if(ft===U||U!==null&&ft===U.alternate)break e;ft=$s(ft),U=$s(U)}ft=null}else ft=null;k!==null&&cp(Y,P,k,ft,!1),pt!==null&&Kt!==null&&cp(Y,Kt,pt,ft,!0)}}t:{if(P=B?Ln(B):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var at=Vd;else if(ve(P))if(Id)at=Wv;else{at=Jv;var Ct=Zv}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&xr(B.elementType)&&(at=Vd):at=$v;if(at&&(at=at(t,B))){di(Y,at,a,H);break t}Ct&&Ct(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Bi(P,"number",P.value)}switch(Ct=B?Ln(B):window,t){case"focusin":(ve(Ct)||Ct.contentEditable==="true")&&(Ds=Ct,Rc=B,Gr=null);break;case"focusout":Gr=Rc=Ds=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Bd(Y,a,H);break;case"selectionchange":if(e0)break;case"keydown":case"keyup":Bd(Y,a,H)}var lt;if(Hn)t:{switch(t){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Nt?j(t,a)&&(mt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(g&&a.locale!=="ko"&&(Nt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Nt&&(lt=Lr()):(Pn=H,Pi="value"in Pn?Pn.value:Pn.textContent,Nt=!0)),Ct=lo(B,mt),0<Ct.length&&(mt=new Pr(mt,t,null,a,H),Y.push({event:mt,listeners:Ct}),lt?mt.data=lt:(lt=W(a),lt!==null&&(mt.data=lt)))),(lt=m?_e(t,a):Mt(t,a))&&(mt=lo(B,"onBeforeInput"),0<mt.length&&(Ct=new Pr("onBeforeInput","beforeinput",null,a,H),Y.push({event:Ct,listeners:mt}),Ct.data=lt)),z0(Y,t,B,a,H)}up(Y,n)})}function _l(t,n,a){return{instance:t,listener:n,currentTarget:a}}function lo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ma(t,a),c!=null&&l.unshift(_l(t,c,f)),c=Ma(t,n),c!=null&&l.push(_l(t,c,f))),t.tag===3)return l;t=t.return}return[]}function $s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Ma(a,f),B!=null&&y.unshift(_l(a,B,w))):c||(B=Ma(a,f),B!=null&&y.push(_l(a,B,w)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var j0=/\r\n?/g,q0=/\u0000|\uFFFD/g;function hp(t){return(typeof t=="string"?t:""+t).replace(j0,`
`).replace(q0,"")}function fp(t,n){return n=hp(n),hp(t)===n}function uo(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":zn(t,"class",l);break;case"tabIndex":zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,a,l);break;case"style":Mr(t,l,f);break;case"data":if(n!=="object"){zn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=vs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=vs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=uo);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=vs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ne(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ne(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ne(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ne(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_c.get(a)||a,zi(t,a,l))}}function Xh(t,n,a,l,c,f){switch(a){case"style":Mr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ms.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):zi(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,f,y,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":w=H;break;case"defaultChecked":B=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Ft(t,n,l,H,a,null)}}Ia(t,f,E,w,B,y,c,!1),_s(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?li(t,!!l,n,!1):a!=null&&li(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ft(t,n,y,E,a,null)}Oa(t,l,c,f),_s(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,w,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)Vt(yl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ft(t,n,B,l,a,null)}return;default:if(xr(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&Xh(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function H0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,w=null,B=null,H=null;for(k in a){var Y=a[k];if(a.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=Y;default:l.hasOwnProperty(k)||Ft(t,n,k,null,l,Y)}}for(var P in l){var k=l[P];if(Y=a[P],l.hasOwnProperty(P)&&(k!=null||Y!=null))switch(P){case"type":f=k;break;case"name":c=k;break;case"checked":B=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==Y&&Ft(t,n,P,k,l,Y)}}en(t,y,E,w,B,H,f,c);return;case"select":k=y=E=P=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==w&&Ft(t,n,c,f,l,w)}n=E,a=y,l=k,P!=null?li(t,!!a,P,!1):!!l!=!!a&&(n!=null?li(t,!!a,n,!0):li(t,!!a,a?[]:"",!1));return;case"textarea":k=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,P,k);return;case"option":for(var pt in a)if(P=a[pt],a.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Ft(t,n,pt,null,l,P)}for(w in l)if(P=l[w],k=a[w],l.hasOwnProperty(w)&&P!==k&&(P!=null||k!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,w,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)P=a[ft],a.hasOwnProperty(ft)&&P!=null&&!l.hasOwnProperty(ft)&&Ft(t,n,ft,null,l,P);for(B in l)if(P=l[B],k=a[B],l.hasOwnProperty(B)&&P!==k&&(P!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:Ft(t,n,B,P,l,k)}return;default:if(xr(n)){for(var Kt in a)P=a[Kt],a.hasOwnProperty(Kt)&&P!==void 0&&!l.hasOwnProperty(Kt)&&Xh(t,n,Kt,void 0,l,P);for(H in l)P=l[H],k=a[H],!l.hasOwnProperty(H)||P===k||P===void 0&&k===void 0||Xh(t,n,H,P,l,k);return}}for(var U in a)P=a[U],a.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Ft(t,n,U,null,l,P);for(Y in l)P=l[Y],k=a[Y],!l.hasOwnProperty(Y)||P===k||P==null&&k==null||Ft(t,n,Y,P,l,k)}var Zh=null,Jh=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function $h(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function G0(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var gp=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,Y0=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(t){return pp.resolve(null).then(t).catch(F0)}:gp;function F0(t){setTimeout(function(){throw t})}function ea(t){return t==="head"}function yp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&vl(y.documentElement),a&2&&vl(y.body),a&4)for(a=y.head,vl(a),y=a.firstChild;y;){var E=y.nextSibling,w=y.nodeName;y[wa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Cl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Cl(n)}function tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tf(a),Li(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function K0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function X0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Z0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var nf=null;function _p(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function vp(t,n,a){switch(n=oo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function vl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Li(t)}var Sn=new Map,Ep=new Set;function co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wi=tt.d;tt.d={f:J0,r:$0,D:W0,C:tE,L:eE,m:nE,X:aE,S:iE,M:sE};function J0(){var t=wi.f(),n=eo();return t||n}function $0(t){var n=Un(t);n!==null&&n.tag===5&&n.type==="form"?km(n):wi.r(t)}var Ws=typeof document>"u"?null:document;function Tp(t,n,a){var l=Ws;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ep.has(c)||(Ep.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),ue(n),l.head.appendChild(n)))}}function W0(t){wi.D(t),Tp("dns-prefetch",t,null)}function tE(t,n){wi.C(t,n),Tp("preconnect",t,n)}function eE(t,n,a){wi.L(t,n,a);var l=Ws;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=tr(t);break;case"script":f=er(t)}Sn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Sn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(El(f))||n==="script"&&l.querySelector(Tl(f))||(n=l.createElement("link"),Le(n,"link",t),ue(n),l.head.appendChild(n)))}}function nE(t,n){wi.m(t,n);var a=Ws;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=er(t)}if(!Sn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Sn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(f)))return}l=a.createElement("link"),Le(l,"link",t),ue(l),a.head.appendChild(l)}}}function iE(t,n,a){wi.S(t,n,a);var l=Ws;if(l&&t){var c=Ye(l).hoistableStyles,f=tr(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(El(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Sn.get(f))&&af(t,a);var w=y=l.createElement("link");ue(w),Le(w,"link",t),w._p=new Promise(function(B,H){w.onload=B,w.onerror=H}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ho(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function aE(t,n){wi.X(t,n);var a=Ws;if(a&&t){var l=Ye(a).hoistableScripts,c=er(t),f=l.get(c);f||(f=a.querySelector(Tl(c)),f||(t=A({src:t,async:!0},n),(n=Sn.get(c))&&sf(t,n),f=a.createElement("script"),ue(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sE(t,n){wi.M(t,n);var a=Ws;if(a&&t){var l=Ye(a).hoistableScripts,c=er(t),f=l.get(c);f||(f=a.querySelector(Tl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Sn.get(c))&&sf(t,n),f=a.createElement("script"),ue(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Ap(t,n,a,l){var c=(c=yt.current)?co(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=tr(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=tr(a.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(El(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Sn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Sn.set(t,a),f||rE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=er(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function tr(t){return'href="'+de(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function Sp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function rE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),ue(n),t.head.appendChild(n))}function er(t){return'[src="'+de(t)+'"]'}function Tl(t){return"script[async]"+t}function bp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Le(l,"style",c),ho(l,a.precedence,t),n.instance=l;case"stylesheet":c=tr(a.href);var f=t.querySelector(El(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Sp(a),(c=Sn.get(c))&&af(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Le(f,"link",l),n.state.loading|=4,ho(f,a.precedence,t),n.instance=f;case"script":return f=er(a.src),(c=t.querySelector(Tl(f)))?(n.instance=c,ue(c),c):(l=a,(c=Sn.get(f))&&(l=A({},a),sf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ho(l,a.precedence,t));return n.instance}function ho(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function Rp(t,n,a){if(fo===null){var l=new Map,c=fo=new Map;c.set(a,l)}else c=fo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[wa]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function wp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function lE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function uE(){}function oE(t,n,a){if(Al===null)throw Error(s(475));var l=Al;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=tr(a.href),f=t.querySelector(El(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,a=Sp(a),(c=Sn.get(c))&&af(a,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,w){y.onload=E,y.onerror=w}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function cE(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&rf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&rf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function mo(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function rf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,n.forEach(hE,t),go=null,mo.call(t))}function hE(t,n){if(!(n.state.loading&4)){var a=go.get(t);if(a)var l=a.get(null);else{a=new Map,go.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Sl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function fE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Dp(t,n,a,l,c,f,y,E,w,B,H,Y){return t=new fE(t,n,a,y,E,w,B,Y),n=1,f===!0&&(n|=24),f=an(3,null,null,n),t.current=f,f.stateNode=t,n=kc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Gc(f),t}function Vp(t){return t?(t=Ns,t):Ns}function Ip(t,n,a,l,c,f){c=Vp(c),l.context===null?l.context=c:l.pendingContext=c,l=qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Hi(t,l,n),a!==null&&(on(a,t,n),Wr(a,t,n))}function Op(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function lf(t,n){Op(t,n),(t=t.alternate)&&Op(t,n)}function Np(t){if(t.tag===13){var n=Os(t,67108864);n!==null&&on(n,t,67108864),lf(t,67108864)}}var po=!0;function dE(t,n,a,l){var c=q.T;q.T=null;var f=tt.p;try{tt.p=2,uf(t,n,a,l)}finally{tt.p=f,q.T=c}}function mE(t,n,a,l){var c=q.T;q.T=null;var f=tt.p;try{tt.p=8,uf(t,n,a,l)}finally{tt.p=f,q.T=c}}function uf(t,n,a,l){if(po){var c=of(l);if(c===null)Kh(t,n,l,yo,a),xp(t,l);else if(pE(c,t,n,a,l))l.stopPropagation();else if(xp(t,l),n&4&&-1<gE.indexOf(t)){for(;c!==null;){var f=Un(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=wn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var w=1<<31-ke(y);E.entanglements[1]|=w,y&=~w}Xn(f),(Ht&6)===0&&(Wu=hn()+500,pl(0))}}break;case 13:E=Os(f,2),E!==null&&on(E,f,2),eo(),lf(f,2)}if(f=of(l),f===null&&Kh(t,n,l,yo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Kh(t,n,l,null,a)}}function of(t){return t=mn(t),cf(t)}var yo=null;function cf(t){if(yo=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function Mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fc()){case Tr:return 2;case cs:return 8;case Ta:case dc:return 32;case hs:return 268435456;default:return 32}default:return 32}}var hf=!1,na=null,ia=null,aa=null,bl=new Map,Rl=new Map,sa=[],gE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xp(t,n){switch(t){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function wl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Un(n),n!==null&&Np(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function pE(t,n,a,l,c){switch(n){case"focusin":return na=wl(na,t,n,a,l,c),!0;case"dragenter":return ia=wl(ia,t,n,a,l,c),!0;case"mouseover":return aa=wl(aa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return bl.set(f,wl(bl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Rl.set(f,wl(Rl.get(f)||null,t,n,a,l,c)),!0}return!1}function Up(t){var n=ai(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,eu(t.priority,function(){if(a.tag===13){var l=un();l=Mi(l);var c=Os(a,l);c!==null&&on(c,a,l),lf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=of(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ui=l,a.target.dispatchEvent(l),ui=null}else return n=Un(a),n!==null&&Np(n),t.blockedOn=a,!1;n.shift()}return!0}function Lp(t,n,a){_o(t)&&a.delete(n)}function yE(){hf=!1,na!==null&&_o(na)&&(na=null),ia!==null&&_o(ia)&&(ia=null),aa!==null&&_o(aa)&&(aa=null),bl.forEach(Lp),Rl.forEach(Lp)}function vo(t,n){t.blockedOn===n&&(t.blockedOn=null,hf||(hf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yE)))}var Eo=null;function zp(t){Eo!==t&&(Eo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Eo===t&&(Eo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(cf(l||a)===null)continue;break}var f=Un(a);f!==null&&(t.splice(n,3),n-=3,oh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Cl(t){function n(w){return vo(w,t)}na!==null&&vo(na,t),ia!==null&&vo(ia,t),aa!==null&&vo(aa,t),bl.forEach(n),Rl.forEach(n);for(var a=0;a<sa.length;a++){var l=sa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sa.length&&(a=sa[0],a.blockedOn===null);)Up(a),a.blockedOn===null&&sa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[fe]||null;if(typeof f=="function")y||zp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(cf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),zp(a)}}}function ff(t){this._internalRoot=t}To.prototype.render=ff.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=un();Ip(a,l,t,n,null,null)},To.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Ip(t.current,2,null,t,null,null),eo(),n[fn]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=xi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<sa.length&&n!==0&&n<sa[a].priority;a++);sa.splice(a,0,t),a===0&&Up(t)}};var Bp=e.version;if(Bp!=="19.1.0")throw Error(s(527,Bp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var _E={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{se=Ao.inject(_E),qt=Ao}catch{}}return Vl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=tg,f=eg,y=ng,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Dp(t,1,!1,null,null,a,l,c,f,y,E,null),t[fn]=n.current,Fh(t),new ff(n)},Vl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=tg,y=eg,E=ng,w=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Dp(t,1,!0,n,a??null,l,c,f,y,E,w,B),n.context=Vp(null),a=n.current,l=un(),l=Mi(l),c=qi(l),c.callback=null,Hi(a,c,l),a=l,n.current.lanes=a,ii(n,a),Xn(n),t[fn]=n.current,Fh(t),new To(n)},Vl.version="19.1.0",Vl}var Kp;function DE(){if(Kp)return gf.exports;Kp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gf.exports=CE(),gf.exports}var VE=DE();const IE="/nfl-picks-app/assets/Bills-9uND34jR.png",OE="/nfl-picks-app/assets/Dolphins-DEOgPzwd.png",NE="/nfl-picks-app/assets/Patriots-DWltFTyD.png",ME="/nfl-picks-app/assets/Jets-2bdiZGH7.png",xE="/nfl-picks-app/assets/Bengals-D9dbUBtR.png",UE="/nfl-picks-app/assets/Browns-B1SFGr92.png",LE="/nfl-picks-app/assets/Ravens-ClgM2pP4.png",zE="/nfl-picks-app/assets/Steelers-Cll6yHpr.png",BE="/nfl-picks-app/assets/Texans-aFHri5jV.png",PE="/nfl-picks-app/assets/Colts-DQ9Qcwjv.png",kE="/nfl-picks-app/assets/Jaguars-Bze8Vhrm.png",jE="/nfl-picks-app/assets/Titans-BBJNDiEN.png",qE="/nfl-picks-app/assets/Broncos-CJohvBYr.png",HE="/nfl-picks-app/assets/Chiefs-hWiUYM-n.png",GE="/nfl-picks-app/assets/Raiders-Dbx3f41H.png",QE="/nfl-picks-app/assets/Chargers-zmDxiU6J.png",YE="/nfl-picks-app/assets/Cowboys-Bf3NSsJv.png",FE="/nfl-picks-app/assets/Eagles-E7VmMLLl.png",KE="/nfl-picks-app/assets/Commanders-D-2mAskc.png",XE="/nfl-picks-app/assets/Giants-B8JBzkrN.png",ZE="/nfl-picks-app/assets/Bears-DPA6NYdC.png",JE="/nfl-picks-app/assets/Lions-Cbw1q-1I.png",$E="/nfl-picks-app/assets/Packers-Ctj1-I11.png",WE="/nfl-picks-app/assets/Vikings-DTXsHU2U.png",tT="/nfl-picks-app/assets/Falcons-byZa5oC1.png",eT="/nfl-picks-app/assets/Panthers-VnGNtitv.png",nT="/nfl-picks-app/assets/Saints-BT9adA1d.png",iT="/nfl-picks-app/assets/Buccaneers-BEdqRjuc.png",aT="/nfl-picks-app/assets/Cardinals-EA-gkDhe.png",sT="/nfl-picks-app/assets/Rams-DHpFX1GH.png",rT="/nfl-picks-app/assets/49ers-BVOOLU13.png",lT="/nfl-picks-app/assets/Seahawks-DCLb0kOT.png",Xp={"Buffalo Bills":IE,"Miami Dolphins":OE,"New England Patriots":NE,"New York Jets":ME,"Cincinnati Bengals":xE,"Cleveland Browns":UE,"Baltimore Ravens":LE,"Pittsburgh Steelers":zE,"Houston Texans":BE,"Indianapolis Colts":PE,"Jacksonville Jaguars":kE,"Tennessee Titans":jE,"Denver Broncos":qE,"Kansas City Chiefs":HE,"Las Vegas Raiders":GE,"Los Angeles Chargers":QE,"Dallas Cowboys":YE,"Philadelphia Eagles":FE,"Washington Commanders":KE,"New York Giants":XE,"Chicago Bears":ZE,"Detroit Lions":JE,"Green Bay Packers":$E,"Minnesota Vikings":WE,"Atlanta Falcons":tT,"Carolina Panthers":eT,"New Orleans Saints":nT,"Tampa Bay Buccaneers":iT,"Arizona Cardinals":aT,"Los Angeles Rams":sT,"San Francisco 49ers":rT,"Seattle Seahawks":lT},uT=()=>{};var Zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},oT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],p=r[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},r_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,p=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=h>>2,N=(h&3)<<4|p>>4;let x=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(x=64)),s.push(i[A],i[N],i[x],i[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):oT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],p=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const N=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||p==null||_==null||N==null)throw new cT;const x=h<<2|p>>4;if(s.push(x),_!==64){const G=p<<4&240|_>>2;if(s.push(G),N!==64){const Z=_<<6&192|N;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hT=function(r){const e=s_(r);return r_.encodeByteArray(e,!0)},Uo=function(r){return hT(r).replace(/\./g,"")},fT=function(r){try{return r_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=()=>dT().__FIREBASE_DEFAULTS__,gT=()=>{if(typeof process>"u"||typeof Zp>"u")return;const r=Zp.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},pT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fT(r[1]);return e&&JSON.parse(e)},Zf=()=>{try{return uT()||mT()||gT()||pT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yT=r=>{var e,i;return(i=(e=Zf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},_T=r=>{const e=yT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},l_=()=>{var r;return(r=Zf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(r){return r.endsWith(".cloudworkstations.dev")}async function ET(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}const xl={};function AT(){const r={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?r.emulator.push(e):r.prod.push(e);return r}function ST(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Jp=!1;function bT(r,e){if(typeof window>"u"||typeof document>"u"||!Jf(window.location.host)||xl[r]===e||xl[r]||Jp)return;xl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=AT().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Jp=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function N(){const x=ST(s),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),$=document.getElementById(nt)||document.createElement("a"),Tt=i("preprendIcon"),dt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ht=x.element;p(ht),A($,nt);const Ot=_();v(dt,Tt),ht.append(dt,Z,$,Ot),document.body.appendChild(ht)}h?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wT(){var r;const e=(r=Zf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CT(){return!wT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DT(){try{return typeof indexedDB=="object"}catch{return!1}}function VT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="FirebaseError";class gr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=IT,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u_.prototype.create)}}class u_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?OT(h,s):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new gr(u,p,s)}}function OT(r,e){return r.replace(NT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const NT=/\{\$([^}]+)}/g;function Lo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if($p(h)&&$p(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function $p(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){return r&&r._delegate?r._delegate:r}class kl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new vT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UT(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xT(r){return r===es?void 0:r}function UT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new MT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const zT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},BT=Lt.INFO,PT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},kT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=PT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class o_{constructor(e){this.name=e,this._logLevel=BT,this._logHandler=kT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const jT=(r,e)=>e.some(i=>r instanceof i);let Wp,ty;function qT(){return Wp||(Wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HT(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,Cf=new WeakMap,h_=new WeakMap,vf=new WeakMap,$f=new WeakMap;function GT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ua(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&c_.set(i,r)}).catch(()=>{}),$f.set(e,r),e}function QT(r){if(Cf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Cf.set(r,e)}let Df={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Cf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ua(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YT(r){Df=r(Df)}function FT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Ef(this),e,...i);return h_.set(s,e.sort?e.sort():[e]),ua(s)}:HT().includes(r)?function(...e){return r.apply(Ef(this),e),ua(c_.get(this))}:function(...e){return ua(r.apply(Ef(this),e))}}function KT(r){return typeof r=="function"?FT(r):(r instanceof IDBTransaction&&QT(r),jT(r,qT())?new Proxy(r,Df):r)}function ua(r){if(r instanceof IDBRequest)return GT(r);if(vf.has(r))return vf.get(r);const e=KT(r);return e!==r&&(vf.set(r,e),$f.set(e,r)),e}const Ef=r=>$f.get(r);function XT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),p=ua(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ua(d.result),v.oldVersion,v.newVersion,ua(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const ZT=["get","getKey","getAll","getAllKeys","count"],JT=["put","add","delete","clear"],Tf=new Map;function ey(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tf.get(e))return Tf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=JT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||ZT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),u&&v.done]))[0]};return Tf.set(e,h),h}YT(r=>({...r,get:(e,i,s)=>ey(e,i)||r.get(e,i,s),has:(e,i)=>!!ey(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function WT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",ny="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new o_("@firebase/app"),t1="@firebase/app-compat",e1="@firebase/analytics-compat",n1="@firebase/analytics",i1="@firebase/app-check-compat",a1="@firebase/app-check",s1="@firebase/auth",r1="@firebase/auth-compat",l1="@firebase/database",u1="@firebase/data-connect",o1="@firebase/database-compat",c1="@firebase/functions",h1="@firebase/functions-compat",f1="@firebase/installations",d1="@firebase/installations-compat",m1="@firebase/messaging",g1="@firebase/messaging-compat",p1="@firebase/performance",y1="@firebase/performance-compat",_1="@firebase/remote-config",v1="@firebase/remote-config-compat",E1="@firebase/storage",T1="@firebase/storage-compat",A1="@firebase/firestore",S1="@firebase/ai",b1="@firebase/firestore-compat",R1="firebase",w1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",C1={[Vf]:"fire-core",[t1]:"fire-core-compat",[n1]:"fire-analytics",[e1]:"fire-analytics-compat",[a1]:"fire-app-check",[i1]:"fire-app-check-compat",[s1]:"fire-auth",[r1]:"fire-auth-compat",[l1]:"fire-rtdb",[u1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[c1]:"fire-fn",[h1]:"fire-fn-compat",[f1]:"fire-iid",[d1]:"fire-iid-compat",[m1]:"fire-fcm",[g1]:"fire-fcm-compat",[p1]:"fire-perf",[y1]:"fire-perf-compat",[_1]:"fire-rc",[v1]:"fire-rc-compat",[E1]:"fire-gcs",[T1]:"fire-gcs-compat",[A1]:"fire-fst",[b1]:"fire-fst-compat",[S1]:"fire-vertex","fire-js":"fire-js",[R1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,D1=new Map,Of=new Map;function iy(r,e){try{r.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Bo(r){const e=r.name;if(Of.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,r);for(const i of zo.values())iy(i,r);for(const i of D1.values())iy(i,r);return!0}function V1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function I1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new u_("app","Firebase",O1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=w1;function f_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:If,automaticDataCollectionEnabled:!0},e),u=s.name;if(typeof u!="string"||!u)throw oa.create("bad-app-name",{appName:String(u)});if(i||(i=l_()),!i)throw oa.create("no-options");const h=zo.get(u);if(h){if(Lo(i,h.options)&&Lo(s,h.config))return h;throw oa.create("duplicate-app",{appName:u})}const d=new LT(u);for(const v of Of.values())d.addComponent(v);const p=new N1(i,s,d);return zo.set(u,p),p}function x1(r=If){const e=zo.get(r);if(!e&&r===If&&l_())return f_();if(!e)throw oa.create("no-app",{appName:r});return e}function rr(r,e,i){var s;let u=(s=C1[r])!==null&&s!==void 0?s:r;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const p=[`Unable to register library "${u}" with version "${e}":`];h&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(p.join(" "));return}Bo(new kl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebase-heartbeat-database",L1=1,jl="firebase-heartbeat-store";let Af=null;function d_(){return Af||(Af=XT(U1,L1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(r=>{throw oa.create("idb-open",{originalErrorMessage:r.message})})),Af}async function z1(r){try{const i=(await d_()).transaction(jl),s=await i.objectStore(jl).get(m_(r));return await i.done,s}catch(e){if(e instanceof gr)Vi.warn(e.message);else{const i=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function ay(r,e){try{const s=(await d_()).transaction(jl,"readwrite");await s.objectStore(jl).put(e,m_(r)),await s.done}catch(i){if(i instanceof gr)Vi.warn(i.message);else{const s=oa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(s.message)}}}function m_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=1024,P1=30;class k1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new q1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>P1){const d=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Vi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=sy(),{heartbeatsToSend:s,unsentEntries:u}=j1(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function sy(){return new Date().toISOString().substring(0,10)}function j1(r,e=B1){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),ry(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),ry(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DT()?VT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await z1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return ay(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function ry(r){return Uo(JSON.stringify({version:2,heartbeats:r})).length}function H1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){Bo(new kl("platform-logger",e=>new $T(e),"PRIVATE")),Bo(new kl("heartbeat",e=>new k1(e),"PRIVATE")),rr(Vf,ny,r),rr(Vf,ny,"esm2017"),rr("fire-js","")}G1("");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ca,g_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function S(){}S.prototype=b.prototype,M.D=b.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(C,V,O){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return b.prototype[V].apply(C,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,b,S){S||(S=0);var C=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)C[V]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(V=0;16>V;++V)C[V]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=M.g[0],S=M.g[1],V=M.g[2];var O=M.g[3],R=b+(O^S&(V^O))+C[0]+3614090360&4294967295;b=S+(R<<7&4294967295|R>>>25),R=O+(V^b&(S^V))+C[1]+3905402710&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(S^O&(b^S))+C[2]+606105819&4294967295,V=O+(R<<17&4294967295|R>>>15),R=S+(b^V&(O^b))+C[3]+3250441966&4294967295,S=V+(R<<22&4294967295|R>>>10),R=b+(O^S&(V^O))+C[4]+4118548399&4294967295,b=S+(R<<7&4294967295|R>>>25),R=O+(V^b&(S^V))+C[5]+1200080426&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(S^O&(b^S))+C[6]+2821735955&4294967295,V=O+(R<<17&4294967295|R>>>15),R=S+(b^V&(O^b))+C[7]+4249261313&4294967295,S=V+(R<<22&4294967295|R>>>10),R=b+(O^S&(V^O))+C[8]+1770035416&4294967295,b=S+(R<<7&4294967295|R>>>25),R=O+(V^b&(S^V))+C[9]+2336552879&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(S^O&(b^S))+C[10]+4294925233&4294967295,V=O+(R<<17&4294967295|R>>>15),R=S+(b^V&(O^b))+C[11]+2304563134&4294967295,S=V+(R<<22&4294967295|R>>>10),R=b+(O^S&(V^O))+C[12]+1804603682&4294967295,b=S+(R<<7&4294967295|R>>>25),R=O+(V^b&(S^V))+C[13]+4254626195&4294967295,O=b+(R<<12&4294967295|R>>>20),R=V+(S^O&(b^S))+C[14]+2792965006&4294967295,V=O+(R<<17&4294967295|R>>>15),R=S+(b^V&(O^b))+C[15]+1236535329&4294967295,S=V+(R<<22&4294967295|R>>>10),R=b+(V^O&(S^V))+C[1]+4129170786&4294967295,b=S+(R<<5&4294967295|R>>>27),R=O+(S^V&(b^S))+C[6]+3225465664&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^S&(O^b))+C[11]+643717713&4294967295,V=O+(R<<14&4294967295|R>>>18),R=S+(O^b&(V^O))+C[0]+3921069994&4294967295,S=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(S^V))+C[5]+3593408605&4294967295,b=S+(R<<5&4294967295|R>>>27),R=O+(S^V&(b^S))+C[10]+38016083&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^S&(O^b))+C[15]+3634488961&4294967295,V=O+(R<<14&4294967295|R>>>18),R=S+(O^b&(V^O))+C[4]+3889429448&4294967295,S=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(S^V))+C[9]+568446438&4294967295,b=S+(R<<5&4294967295|R>>>27),R=O+(S^V&(b^S))+C[14]+3275163606&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^S&(O^b))+C[3]+4107603335&4294967295,V=O+(R<<14&4294967295|R>>>18),R=S+(O^b&(V^O))+C[8]+1163531501&4294967295,S=V+(R<<20&4294967295|R>>>12),R=b+(V^O&(S^V))+C[13]+2850285829&4294967295,b=S+(R<<5&4294967295|R>>>27),R=O+(S^V&(b^S))+C[2]+4243563512&4294967295,O=b+(R<<9&4294967295|R>>>23),R=V+(b^S&(O^b))+C[7]+1735328473&4294967295,V=O+(R<<14&4294967295|R>>>18),R=S+(O^b&(V^O))+C[12]+2368359562&4294967295,S=V+(R<<20&4294967295|R>>>12),R=b+(S^V^O)+C[5]+4294588738&4294967295,b=S+(R<<4&4294967295|R>>>28),R=O+(b^S^V)+C[8]+2272392833&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^S)+C[11]+1839030562&4294967295,V=O+(R<<16&4294967295|R>>>16),R=S+(V^O^b)+C[14]+4259657740&4294967295,S=V+(R<<23&4294967295|R>>>9),R=b+(S^V^O)+C[1]+2763975236&4294967295,b=S+(R<<4&4294967295|R>>>28),R=O+(b^S^V)+C[4]+1272893353&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^S)+C[7]+4139469664&4294967295,V=O+(R<<16&4294967295|R>>>16),R=S+(V^O^b)+C[10]+3200236656&4294967295,S=V+(R<<23&4294967295|R>>>9),R=b+(S^V^O)+C[13]+681279174&4294967295,b=S+(R<<4&4294967295|R>>>28),R=O+(b^S^V)+C[0]+3936430074&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^S)+C[3]+3572445317&4294967295,V=O+(R<<16&4294967295|R>>>16),R=S+(V^O^b)+C[6]+76029189&4294967295,S=V+(R<<23&4294967295|R>>>9),R=b+(S^V^O)+C[9]+3654602809&4294967295,b=S+(R<<4&4294967295|R>>>28),R=O+(b^S^V)+C[12]+3873151461&4294967295,O=b+(R<<11&4294967295|R>>>21),R=V+(O^b^S)+C[15]+530742520&4294967295,V=O+(R<<16&4294967295|R>>>16),R=S+(V^O^b)+C[2]+3299628645&4294967295,S=V+(R<<23&4294967295|R>>>9),R=b+(V^(S|~O))+C[0]+4096336452&4294967295,b=S+(R<<6&4294967295|R>>>26),R=O+(S^(b|~V))+C[7]+1126891415&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~S))+C[14]+2878612391&4294967295,V=O+(R<<15&4294967295|R>>>17),R=S+(O^(V|~b))+C[5]+4237533241&4294967295,S=V+(R<<21&4294967295|R>>>11),R=b+(V^(S|~O))+C[12]+1700485571&4294967295,b=S+(R<<6&4294967295|R>>>26),R=O+(S^(b|~V))+C[3]+2399980690&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~S))+C[10]+4293915773&4294967295,V=O+(R<<15&4294967295|R>>>17),R=S+(O^(V|~b))+C[1]+2240044497&4294967295,S=V+(R<<21&4294967295|R>>>11),R=b+(V^(S|~O))+C[8]+1873313359&4294967295,b=S+(R<<6&4294967295|R>>>26),R=O+(S^(b|~V))+C[15]+4264355552&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~S))+C[6]+2734768916&4294967295,V=O+(R<<15&4294967295|R>>>17),R=S+(O^(V|~b))+C[13]+1309151649&4294967295,S=V+(R<<21&4294967295|R>>>11),R=b+(V^(S|~O))+C[4]+4149444226&4294967295,b=S+(R<<6&4294967295|R>>>26),R=O+(S^(b|~V))+C[11]+3174756917&4294967295,O=b+(R<<10&4294967295|R>>>22),R=V+(b^(O|~S))+C[2]+718787259&4294967295,V=O+(R<<15&4294967295|R>>>17),R=S+(O^(V|~b))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+O&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var S=b-this.blockSize,C=this.B,V=this.h,O=0;O<b;){if(V==0)for(;O<=S;)u(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<b;)if(C[V++]=M.charCodeAt(O++),V==this.blockSize){u(this,C),V=0;break}}else for(;O<b;)if(C[V++]=M[O++],V==this.blockSize){u(this,C),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var S=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=S&255,S/=256;for(this.u(M),M=Array(16),b=S=0;4>b;++b)for(var C=0;32>C;C+=8)M[S++]=this.g[b]>>>C&255;return M};function h(M,b){var S=p;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=b(M)}function d(M,b){this.h=b;for(var S=[],C=!0,V=M.length-1;0<=V;V--){var O=M[V]|0;C&&O==b||(S[V]=O,C=!1)}this.g=S}var p={};function v(M){return-128<=M&&128>M?h(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return N;if(0>M)return $(_(-M));for(var b=[],S=1,C=0;M>=S;C++)b[C]=M/S|0,S*=4294967296;return new d(b,0)}function A(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return $(A(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(b,8)),C=N,V=0;V<M.length;V+=8){var O=Math.min(8,M.length-V),R=parseInt(M.substring(V,V+O),b);8>O?(O=_(Math.pow(b,O)),C=C.j(O).add(_(R))):(C=C.j(S),C=C.add(_(R)))}return C}var N=v(0),x=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(nt(this))return-$(this).m();for(var M=0,b=1,S=0;S<this.g.length;S++){var C=this.i(S);M+=(0<=C?C:4294967296+C)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Z(this))return"0";if(nt(this))return"-"+$(this).toString(M);for(var b=_(Math.pow(M,6)),S=this,C="";;){var V=Ot(S,b).g;S=Tt(S,V.j(b));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=V,Z(S))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Z(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function nt(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),nt(M)?-1:Z(M)?0:1};function $(M){for(var b=M.g.length,S=[],C=0;C<b;C++)S[C]=~M.g[C];return new d(S,~M.h).add(x)}r.abs=function(){return nt(this)?$(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0,V=0;V<=b;V++){var O=C+(this.i(V)&65535)+(M.i(V)&65535),R=(O>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);C=R>>>16,O&=65535,R&=65535,S[V]=R<<16|O}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Tt(M,b){return M.add($(b))}r.j=function(M){if(Z(this)||Z(M))return N;if(nt(this))return nt(M)?$(this).j($(M)):$($(this).j(M));if(nt(M))return $(this.j($(M)));if(0>this.l(G)&&0>M.l(G))return _(this.m()*M.m());for(var b=this.g.length+M.g.length,S=[],C=0;C<2*b;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var V=0;V<M.g.length;V++){var O=this.i(C)>>>16,R=this.i(C)&65535,ne=M.i(V)>>>16,$t=M.i(V)&65535;S[2*C+2*V]+=R*$t,dt(S,2*C+2*V),S[2*C+2*V+1]+=O*$t,dt(S,2*C+2*V+1),S[2*C+2*V+1]+=R*ne,dt(S,2*C+2*V+1),S[2*C+2*V+2]+=O*ne,dt(S,2*C+2*V+2)}for(C=0;C<b;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=b;C<2*b;C++)S[C]=0;return new d(S,0)};function dt(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function ht(M,b){this.g=M,this.h=b}function Ot(M,b){if(Z(b))throw Error("division by zero");if(Z(M))return new ht(N,N);if(nt(M))return b=Ot($(M),b),new ht($(b.g),$(b.h));if(nt(b))return b=Ot(M,$(b)),new ht($(b.g),b.h);if(30<M.g.length){if(nt(M)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var S=x,C=b;0>=C.l(M);)S=_t(S),C=_t(C);var V=zt(S,1),O=zt(C,1);for(C=zt(C,2),S=zt(S,2);!Z(C);){var R=O.add(C);0>=R.l(M)&&(V=V.add(S),O=R),C=zt(C,1),S=zt(S,1)}return b=Tt(M,V.j(b)),new ht(V,b)}for(V=N;0<=M.l(b);){for(S=Math.max(1,Math.floor(M.m()/b.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=_(S),R=O.j(b);nt(R)||0<R.l(M);)S-=C,O=_(S),R=O.j(b);Z(O)&&(O=x),V=V.add(O),M=Tt(M,R)}return new ht(V,M)}r.A=function(M){return Ot(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)&M.i(C);return new d(S,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)|M.i(C);return new d(S,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),S=[],C=0;C<b;C++)S[C]=this.i(C)^M.i(C);return new d(S,this.h^M.h)};function _t(M){for(var b=M.g.length+1,S=[],C=0;C<b;C++)S[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(S,M.h)}function zt(M,b){var S=b>>5;b%=32;for(var C=M.g.length-S,V=[],O=0;O<C;O++)V[O]=0<b?M.i(O+S)>>>b|M.i(O+S+1)<<32-b:M.i(O+S);return new d(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,g_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,ca=d}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p_,Il,y_,Vo,Nf,__,v_,E_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,g){return o==Array.prototype||o==Object.prototype||(o[m]=g.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof So=="object"&&So];for(var m=0;m<o.length;++m){var g=o[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var g=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in g))break t;g=g[L]}o=o[o.length-1],T=g[o],m=m(T),m!=T&&m!=null&&e(g,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var g=0,T=!1,L={next:function(){if(!T&&g<o.length){var j=g++;return{value:m(j,o[j]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,g){return o.call.apply(o.bind,arguments)}function N(o,m,g){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function x(o,m,g){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,x.apply(null,arguments)}function G(o,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function g(){}g.prototype=m.prototype,o.aa=m.prototype,o.prototype=new g,o.prototype.constructor=o,o.Qb=function(T,L,j){for(var W=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)W[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=o[T];return g}return[]}function $(o,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const L=o.length||0,j=T.length||0;o.length=L+j;for(let W=0;W<j;W++)o[L+W]=T[W]}else o.push(T)}}class Tt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=p.navigator;return o&&(o=o.userAgent)?o:""}function Ot(o){return Ot[" "](o),o}Ot[" "]=function(){};var _t=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function zt(o,m,g){for(const T in o)m.call(g,o[T],T,o)}function M(o,m){for(const g in o)m.call(void 0,o[g],g,o)}function b(o){const m={};for(const g in o)m[g]=o[g];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(o,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)o[g]=T[g];for(let j=0;j<S.length;j++)g=S[j],Object.prototype.hasOwnProperty.call(T,g)&&(o[g]=T[g])}}function V(o){var m=1;o=o.split(":");const g=[];for(;0<m&&o.length;)g.push(o.shift()),m--;return o.length&&g.push(o.join(":")),g}function O(o){p.setTimeout(()=>{throw o},0)}function R(){var o=St;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,g){const T=$t.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var $t=new Tt(()=>new q,o=>o.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,rt=!1,St=new ne,D=()=>{const o=p.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(g){O(g)}var m=$t;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}rt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return o}();function wt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var g=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Ot(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else g=="mouseover"?m=o.fromElement:g=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:yt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,J);var yt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Mn(o,m,g,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ni(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ei(o){this.src=o,this.g={},this.h=0}ei.prototype.add=function(o,m,g,T,L){var j=o.toString();o=this.g[j],o||(o=this.g[j]=[],this.h++);var W=va(o,m,T,L);return-1<W?(m=o[W],g||(m.fa=!1)):(m=new Mn(m,this.src,j,!!T,L),m.fa=g,o.push(m)),m};function _a(o,m){var g=m.type;if(g in o.g){var T=o.g[g],L=Array.prototype.indexOf.call(T,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(T,L,1),j&&(Ni(m),o.g[g].length==0&&(delete o.g[g],o.h--))}}function va(o,m,g,T){for(var L=0;L<o.length;++L){var j=o[L];if(!j.da&&j.listener==m&&j.capture==!!g&&j.ha==T)return L}return-1}var Ea="closure_lm_"+(1e6*Math.random()|0),Er={};function $l(o,m,g,T,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)$l(o,m[j],g,T,L);return null}return g=Wl(g),o&&o[Re]?o.K(m,g,_(T)?!!T.capture:!1,L):hn(o,m,g,!1,T,L)}function hn(o,m,g,T,L,j){if(!m)throw Error("Invalid event type");var W=_(L)?!!L.capture:!!L,Nt=hs(o);if(Nt||(o[Ea]=Nt=new ei(o)),g=Nt.add(m,g,T,W,j),g.proxy)return g;if(T=fc(),g.proxy=T,T.src=o,T.listener=g,o.addEventListener)ot||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Ta(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fc(){function o(g){return m.call(o.src,o.listener,g)}const m=dc;return o}function Tr(o,m,g,T,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Tr(o,m[j],g,T,L);else T=_(T)?!!T.capture:!!T,g=Wl(g),o&&o[Re]?(o=o.i,m=String(m).toString(),m in o.g&&(j=o.g[m],g=va(j,g,T,L),-1<g&&(Ni(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete o.g[m],o.h--)))):o&&(o=hs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=va(m,g,T,L)),(g=-1<o?m[o]:null)&&cs(g))}function cs(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])_a(m.i,o);else{var g=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(g,T,o.capture):m.detachEvent?m.detachEvent(Ta(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=hs(m))?(_a(g,o),g.h==0&&(g.src=null,m[Ea]=null)):Ni(o)}}}function Ta(o){return o in Er?Er[o]:Er[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new wt(m,this);var g=o.listener,T=o.ha||o.src;o.fa&&cs(o),o=g.call(T,m)}return o}function hs(o){return o=o[Ea],o instanceof ei?o:null}var Ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wl(o){return typeof o=="function"?o:(o[Ar]||(o[Ar]=function(m){return o.handleEvent(m)}),o[Ar])}function se(){et.call(this),this.i=new ei(this),this.M=this,this.F=null}Z(se,et),se.prototype[Re]=!0,se.prototype.removeEventListener=function(o,m,g,T){Tr(this,o,m,g,T)};function qt(o,m){var g,T=o.F;if(T)for(g=[];T;T=T.F)g.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),C(m,L)}if(L=!0,g)for(var j=g.length-1;0<=j;j--){var W=m.g=g[j];L=tn(W,T,!0,m)&&L}if(W=m.g=o,L=tn(W,T,!0,m)&&L,L=tn(W,T,!1,m)&&L,g)for(j=0;j<g.length;j++)W=m.g=g[j],L=tn(W,T,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var g=o.g[m],T=0;T<g.length;T++)Ni(g[T]);delete o.g[m],o.h--}}this.F=null},se.prototype.K=function(o,m,g,T){return this.i.add(String(o),m,!1,g,T)},se.prototype.L=function(o,m,g,T){return this.i.add(String(o),m,!0,g,T)};function tn(o,m,g,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==g){var Nt=W.listener,_e=W.ha||W.src;W.fa&&_a(o.i,W),L=Nt.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function ke(o,m,g){if(typeof o=="function")g&&(o=x(o,g));else if(o&&typeof o.handleEvent=="function")o=x(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(o,m||0)}function tu(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,tu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends et{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(o){et.call(this),this.h=o,this.g={}}Z(Aa,et);var Sa=[];function ba(o){zt(o.g,function(m,g){this.g.hasOwnProperty(g)&&cs(m)},o),o.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),ba(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=p.JSON.stringify,fs=p.JSON.parse,Ra=class{stringify(o){return p.JSON.stringify(o,void 0)}parse(o){return p.JSON.parse(o,void 0)}};function Sr(){}Sr.prototype.h=null;function br(o){return o.h||(o.h=o.i())}function Rr(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ii(){J.call(this,"d")}Z(ii,J);function wr(){J.call(this,"c")}Z(wr,J);var xn={},Cr=null;function Mi(){return Cr=Cr||new se}xn.La="serverreachability";function ds(o){J.call(this,xn.La,o)}Z(ds,J);function xi(o){const m=Mi();qt(m,new ds(m))}xn.STAT_EVENT="statevent";function eu(o,m){J.call(this,xn.STAT_EVENT,o),this.stat=m}Z(eu,J);function Wt(o){const m=Mi();qt(m,new eu(m,o))}xn.Ma="timingevent";function ye(o,m){J.call(this,xn.Ma,o),this.size=m}Z(ye,J);function fe(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){o()},m)}function fn(){this.g=!0}fn.prototype.xa=function(){this.g=!1};function Dr(o,m,g,T,L,j){o.info(function(){if(o.g)if(j)for(var W="",Nt=j.split("&"),_e=0;_e<Nt.length;_e++){var Mt=Nt[_e].split("=");if(1<Mt.length){var Ce=Mt[0];Mt=Mt[1];var ve=Ce.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ce+"="+Mt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+W})}function gc(o,m,g,T,L,j,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+j+" "+W})}function Ui(o,m,g,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+wa(o,g)+(T?" "+T:"")})}function nu(o,m){o.info(function(){return"TIMEOUT: "+m})}fn.prototype.info=function(){};function wa(o,m){if(!o.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(o=0;o<g.length;o++)if(Array.isArray(g[o])){var T=g[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return wn(g)}catch{return m}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function Ln(){}Z(Ln,Sr),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},Un=new Ln;function Ye(o,m,g,T){this.j=o,this.i=m,this.l=g,this.R=T||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Vr={},ms={};function Cn(o,m,g){o.L=1,o.v=Oa(en(m)),o.m=g,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Ca(o),o.A=en(o.v);var g=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ur(g.i,"t",T),o.C=0,g=o.j.J,o.h=new ue,o.g=_u(o.j,g?m:null,!o.m),0<o.O&&(o.M=new mc(x(o.Y,o,o.g),o.O)),m=o.U,g=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Sa[0]=L.toString()),L=Sa);for(var j=0;j<L.length;j++){var W=$l(g,L[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),xi(),Dr(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&pn(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const ve=pn(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=di?xi(3):xi(2)),zi(this);var g=this.g.Z();this.X=g;e:if(iu(this)){var T=cu(this.g);o="";var L=T.length,j=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ne(this),zn(this);var W="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(j&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=g==200,gc(this.i,this.u,this.A,this.l,this.R,ve,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Nt)){var Mt=Nt;break e}}Mt=null}if(g=Mt)Ui(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Da(this,g);else{this.o=!1,this.s=3,Wt(12),Ne(this),zn(this);break t}}if(this.P){g=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=au(this,W),Me==ms){ve==4&&(this.s=4,Wt(14),g=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Vr){this.s=4,Wt(15),Ui(this.i,this.l,W,"[Invalid Chunk]"),g=!1;break}else Ui(this.i,this.l,Me,null),Da(this,Me);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),g=!1),this.o=this.o&&g,!g)Ui(this.i,this.l,W,"[Invalid Chunked Response]"),Ne(this),zn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Pa(Ce),Ce.M=!0,Wt(11))}}else Ui(this.i,this.l,W,null),Da(this,W);ve==4&&Ne(this),this.o&&!this.J&&(ve==4?gu(this.j,this):(this.o=!1,Ca(this)))}else Ec(this.g),g==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ne(this),zn(this)}}}catch{}finally{}};function iu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var g=o.C,T=m.indexOf(`
`,g);return T==-1?ms:(g=Number(m.substring(g,T)),isNaN(g)?Vr:(T+=1,T+g>m.length?ms:(m=m.slice(T,T+g),o.C=T+g,m)))}Ye.prototype.cancel=function(){this.J=!0,Ne(this)};function Ca(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=fe(x(o.ba,o),m)}function zi(o){o.B&&(p.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(nu(this.i,this.A),this.L!=2&&(xi(),Wt(17)),Ne(this),this.s=2,zn(this)):su(this,this.S-o)};function zn(o){o.j.G==0||o.J||gu(o.j,o)}function Ne(o){zi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ba(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Da(o,m){try{var g=o.j;if(g.G!=0&&(g.g==o||Ir(g.h,o))){if(!o.K&&Ir(g.h,o)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<o.F)ws(g),bs(g);else break t;kr(g),Wt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=fe(x(g.Za,g),6e3));if(1>=ps(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else fi(g,11)}else if((o.K||g.g==o)&&ws(g),!dt(m))for(L=g.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(g.T=Mt[0],Mt=Mt[1],g.G==2)if(Mt[0]=="c"){g.K=Mt[1],g.ia=Mt[2];const Ce=Mt[3];Ce!=null&&(g.la=Ce,g.j.info("VER="+g.la));const ve=Mt[4];ve!=null&&(g.Aa=ve,g.j.info("SVER="+g.Aa));const di=Mt[5];di!=null&&typeof di=="number"&&0<di&&(T=1.5*di,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Me=o.g;if(Me){const Gn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var j=T.h;j.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ys(j,j.h),j.h=null))}if(T.D){const qr=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;qr&&(T.ya=qr,Qt(T.I,T.D,qr))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-o.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var W=o;if(T.qa=yu(T,T.J?T.ia:null,T.W),W.K){Fe(T.h,W);var Nt=W,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(zi(Nt),Ca(Nt)),T.g=W}else du(T);0<g.i.length&&Rs(g)}else Mt[0]!="stop"&&Mt[0]!="close"||fi(g,7);else g.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?fi(g,7):Br(g):Mt[0]!="noop"&&g.l&&g.l.ta(Mt),g.v=0)}}xi(4)}catch{}}var ru=class{constructor(o,m){this.g=o,this.map=m}};function ri(o){this.l=o||10,p.PerformanceNavigationTiming?(o=p.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ps(o){return o.h?1:o.g?o.g.size:0}function Ir(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ys(o,m){o.g?o.g.add(m):o.h=m}function Fe(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ri.prototype.cancel=function(){if(this.i=Or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Or(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const g of o.g.values())m=m.concat(g.D);return m}return nt(o.i)}function pc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],g=o.length,T=0;T<g;T++)m.push(o[T]);return m}m=[],g=0;for(T in o)m[g++]=o[T];return m}function _s(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var g=0;g<o;g++)m.push(g);return m}m=[],g=0;for(const T in o)m[g++]=T;return m}}}function Nr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var g=_s(o),T=pc(o),L=T.length,j=0;j<L;j++)m.call(void 0,T[j],g&&g[j],o)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yc(o,m){if(o){o=o.split("&");for(var g=0;g<o.length;g++){var T=o[g].indexOf("="),L=null;if(0<=T){var j=o[g].substring(0,T);L=o[g].substring(T+1)}else j=o[g];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof de){this.h=o.h,Ia(this,o.j),this.o=o.o,this.g=o.g,Bi(this,o.s),this.l=o.l;var m=o.i,g=new ui;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),li(this,g),this.m=o.m}else o&&(m=String(o).match(Va))?(this.h=!1,Ia(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),Bi(this,m[4]),this.l=dn(m[5]||"",!0),li(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}de.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Na(m,Mr,!0),":");var g=this.g;return(g||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Na(m,Mr,!0),"@"),o.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&o.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(Na(g,g.charAt(0)=="/"?_c:xr,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",Na(g,vs)),o.join("")};function en(o){return new de(o)}function Ia(o,m,g){o.j=g?dn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Bi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function li(o,m,g){m instanceof ui?(o.i=m,uu(o.i,o.h)):(g||(m=Na(m,vc)),o.i=new ui(m,o.h))}function Qt(o,m,g){o.i.set(m,g)}function Oa(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function dn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Na(o,m,g){return typeof o=="string"?(o=encodeURI(o).replace(m,lu),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function lu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Mr=/[#\/\?@]/g,xr=/[#\?:]/g,_c=/[#\?]/g,vc=/[#\?@]/g,vs=/#/g;function ui(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&yc(o.i,function(m,g){o.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}r=ui.prototype,r.add=function(o,m){mn(this),this.i=null,o=Bn(this,o);var g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(m),this.h+=1,this};function oi(o,m){mn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return mn(o),m=Bn(o,m),o.g.has(m)}r.forEach=function(o,m){mn(this),this.g.forEach(function(g,T){g.forEach(function(L){o.call(m,L,T,this)},this)},this)},r.na=function(){mn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const L=o[T];for(let j=0;j<L.length;j++)g.push(m[T])}return g},r.V=function(o){mn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let g=0;g<o.length;g++)m=m.concat(o[g])}return m},r.set=function(o,m){return mn(this),this.i=null,o=Bn(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ur(o,m,g){oi(o,m),0<g.length&&(o.i=null,o.g.set(Bn(o,m),nt(g)),o.h+=g.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const j=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=j;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function uu(o,m){m&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(g,T){var L=T.toLowerCase();T!=L&&(oi(this,T),Ur(this,L,g))},o)),o.j=m}function Ma(o,m){const g=new fn;if(p.Image){const T=new Image;T.onload=G(gn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=G(gn,g,"TestLoadImage: error",!1,m,T),T.onabort=G(gn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(gn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Dn(o,m){const g=new fn,T=new AbortController,L=setTimeout(()=>{T.abort(),gn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(j=>{clearTimeout(L),j.ok?gn(g,"TestPingServer: ok",!0,m):gn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),gn(g,"TestPingServer: error",!1,m)})}function gn(o,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function xa(){this.g=new Ra}function Pn(o,m,g){const T=g||"";try{Nr(o,function(L,j){let W=L;_(L)&&(W=wn(L)),m.push(T+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Pi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Pi,Sr),Pi.prototype.g=function(){return new hi(this.l,this.j)},Pi.prototype.i=function(o){return function(){return o}}({});function hi(o,m){se.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(hi,se),r=hi.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?kn(this):jn(this),this.readyState==3&&Lr(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,kn(this))},r.Qa=function(o){this.g&&(this.response=o,kn(this))},r.ga=function(){this.g&&kn(this)};function kn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function zr(o){let m="";return zt(o,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function we(o,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=zr(g),typeof o=="string"?g!=null&&encodeURIComponent(String(g)):Qt(o,m,g))}function kt(o){se.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(kt,se);var Es=/^https?$/i,Ua=["POST","PUT"];r=kt.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?br(this.o):br(Un),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(j){ou(this,j);return}if(o=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())g.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),L=p.FormData&&o instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ua,m,void 0))||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of g)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(o),this.u=!1}catch(j){ou(this,j)}};function ou(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ts(o),qn(o)}function Ts(o){o.A||(o.A=!0,qt(o,"complete"),qt(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,qt(this,"complete"),qt(this,"abort"),qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?As(this):this.bb())},r.bb=function(){As(this)};function As(o){if(o.h&&typeof d<"u"&&(!o.v[1]||pn(o)!=4||o.Z()!=2)){if(o.u&&pn(o)==4)ke(o.Ea,0,o);else if(qt(o,"readystatechange"),pn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=W===0){var L=String(o.D).match(Va)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),T=!Es.test(L?L.toLowerCase():"")}g=T}if(g)qt(o,"complete"),qt(o,"success");else{o.m=6;try{var j=2<pn(o)?o.g.statusText:""}catch{j=""}o.l=j+" ["+o.Z()+"]",Ts(o)}}finally{qn(o)}}}}function qn(o,m){if(o.g){La(o);const g=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||qt(o,"ready");try{g.onreadystatechange=T}catch{}}}function La(o){o.I&&(p.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function pn(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),fs(m)}};function cu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=pn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var g=V(o[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=m[L]||[];m[L]=j,j.push(g)}M(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(o,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||m}function Ss(o){this.Aa=0,this.i=[],this.j=new fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,o),this.cb=za("retryDelaySeedMs",1e4,o),this.Wa=za("forwardChannelMaxRetries",2,o),this.wa=za("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(o&&o.concurrentRequestLimit),this.Da=new xa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ss.prototype,r.la=8,r.G=1,r.connect=function(o,m,g,T){Wt(0),this.W=o,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=yu(this,null,this.W),Rs(this)};function Br(o){if(hu(o),o.G==3){var m=o.U++,g=en(o.I);if(Qt(g,"SID",o.K),Qt(g,"RID",m),Qt(g,"TYPE","terminate"),Ba(o,g),m=new Ye(o,o.j,m),m.L=2,m.v=Oa(en(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ca(m)}pu(o)}function bs(o){o.g&&(Pa(o),o.g.cancel(),o.g=null)}function hu(o){bs(o),o.u&&(p.clearTimeout(o.u),o.u=null),ws(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&p.clearTimeout(o.s),o.s=null)}function Rs(o){if(!gs(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||D(),rt||(tt(),rt=!0),St.add(m,o),o.B=0}}function Tc(o,m){return ps(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=fe(x(o.Ga,o,m),jr(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Ye(this,this.j,o);let j=this.o;if(this.S&&(j?(j=b(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),g=en(this.I),Qt(g,"RID",o),Qt(g,"CVER",22),this.D&&Qt(g,"X-HTTP-Session-Id",this.D),Ba(this,g),j&&(this.O?m="headers="+encodeURIComponent(String(zr(j)))+"&"+m:this.m&&we(g,this.m,j)),ys(this.h,L),this.Ua&&Qt(g,"TYPE","init"),this.P?(Qt(g,"$req",m),Qt(g,"SID","null"),L.T=!0,Cn(L,g,null)):Cn(L,g,m),this.G=2}}else this.G==3&&(o?Pr(this,o):this.i.length==0||gs(this.h)||Pr(this))};function Pr(o,m){var g;m?g=m.l:g=o.U++;const T=en(o.I);Qt(T,"SID",o.K),Qt(T,"RID",g),Qt(T,"AID",o.T),Ba(o,T),o.m&&o.o&&we(T,o.m,o.o),g=new Ye(o,o.j,g,o.B+1),o.m===null&&(g.H=o.o),m&&(o.i=m.D.concat(o.i)),m=fu(o,g,1e3),g.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ys(o.h,g),Cn(g,T,m)}function Ba(o,m){o.H&&zt(o.H,function(g,T){Qt(m,T,g)}),o.l&&Nr({},function(g,T){Qt(m,T,g)})}function fu(o,m,g){g=Math.min(o.i.length,g);var T=o.l?x(o.l.Na,o.l,o):null;t:{var L=o.i;let j=-1;for(;;){const W=["count="+g];j==-1?0<g?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Nt=!0;for(let _e=0;_e<g;_e++){let Mt=L[_e].g;const Ce=L[_e].map;if(Mt-=j,0>Mt)j=Math.max(0,L[_e].g-100),Nt=!1;else try{Pn(Ce,W,"req"+Mt+"_")}catch{T&&T(Ce)}}if(Nt){T=W.join("&");break t}}}return o=o.i.splice(0,g),m.D=o,T}function du(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||D(),rt||(tt(),rt=!0),St.add(m,o),o.v=0}}function kr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=fe(x(o.Fa,o),jr(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=fe(x(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),bs(this),mu(this))};function Pa(o){o.A!=null&&(p.clearTimeout(o.A),o.A=null)}function mu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=en(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Ba(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var g=o.g;o=o.ia,g.L=1,g.v=Oa(en(m)),g.m=null,g.P=!0,si(g,o)}r.Za=function(){this.C!=null&&(this.C=null,bs(this),kr(this),Wt(19))};function ws(o){o.C!=null&&(p.clearTimeout(o.C),o.C=null)}function gu(o,m){var g=null;if(o.g==m){ws(o),Pa(o),o.g=null;var T=2}else if(Ir(o.h,m))g=m.D,Fe(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Mi(),qt(T,new ye(T,g)),Rs(o)}else du(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&kr(o)))switch(g&&0<g.length&&(m=o.h,m.i=m.i.concat(g)),L){case 1:fi(o,5);break;case 4:fi(o,10);break;case 3:fi(o,6);break;default:fi(o,2)}}}function jr(o,m){let g=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(g*=2),g*m}function fi(o,m){if(o.j.info("Error code "+m),m==2){var g=x(o.fb,o),T=o.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Ia(T,"https"),Oa(T),L?Ma(T.toString(),g):Dn(T.toString(),g)}else Wt(2);o.G=0,o.l&&o.l.sa(m),pu(o),hu(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function pu(o){if(o.G=0,o.ka=[],o.l){const m=Or(o.h);(m.length!=0||o.i.length!=0)&&($(o.ka,m),$(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function yu(o,m,g){var T=g instanceof de?en(g):new de(g);if(T.g!="")m&&(T.g=m+"."+T.g),Bi(T,T.s);else{var L=p.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new de(null);T&&Ia(j,T),m&&(j.g=m),L&&Bi(j,L),g&&(j.l=g),T=j}return g=o.D,m=o.ya,g&&m&&Qt(T,g,m),Qt(T,"VER",o.la),Ba(o,T),T}function _u(o,m,g){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Pi({eb:g})):new kt(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}r=vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Cs(){}Cs.prototype.g=function(o,m){return new Ke(o,m)};function Ke(o,m){se.call(this),this.g=new Ss(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Hn(this)}Z(Ke,se),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){Br(this.g)},Ke.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.u&&(g={},g.__data__=wn(o),o=g);m.i.push(new ru(m.Ya++,o)),m.G==3&&Rs(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,Br(this.g),delete this.g,Ke.aa.N.call(this)};function Eu(o){ii.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const g in m){o=g;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Eu,ii);function Tu(){wr.call(this),this.status=1}Z(Tu,wr);function Hn(o){this.g=o}Z(Hn,vu),Hn.prototype.ua=function(){qt(this.g,"a")},Hn.prototype.ta=function(o){qt(this.g,new Eu(o))},Hn.prototype.sa=function(o){qt(this.g,new Tu)},Hn.prototype.ra=function(){qt(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,E_=function(){return new Cs},v_=function(){return Mi()},__=xn,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Vo=Li,ai.COMPLETE="complete",y_=ai,Rr.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",se.prototype.listen=se.prototype.K,Il=Rr,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,p_=kt}).apply(typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore",oy="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new o_("@firebase/firestore");function nr(){return is.logLevel}function it(r,...e){if(is.logLevel<=Lt.DEBUG){const i=e.map(Wf);is.debug(`Firestore (${pr}): ${r}`,...i)}}function Ii(r,...e){if(is.logLevel<=Lt.ERROR){const i=e.map(Wf);is.error(`Firestore (${pr}): ${r}`,...i)}}function ur(r,...e){if(is.logLevel<=Lt.WARN){const i=e.map(Wf);is.warn(`Firestore (${pr}): ${r}`,...i)}}function Wf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,T_(r,s,i)}function T_(r,e,i){let s=`FIRESTORE (${pr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ii(s),new Error(s)}function jt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||T_(e,u,s)}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends gr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class Y1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class F1{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ci;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ci,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ci)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new A_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ge(e)}}class K1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new K1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,I1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=J1(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function Rt(r,e){return r<e?-1:r>e?1:0}function Mf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return Rt(s,u);{const h=S_(),d=$1(h.encode(hy(r,i)),h.encode(hy(e,i)));return d!==0?d:Rt(s,u)}}i+=s>65535?2:1}return Rt(r.length,e.length)}function hy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Rt(r[i],e[i]);return Rt(r.length,e.length)}function or(r,e,i){return r.length===e.length&&r.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=-62135596800,dy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*dy);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<fy)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dy}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-fy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="__name__";class Zn{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&gt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Zn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=Zn.isNumericId(e),u=Zn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Zn.extractNumericId(e).compare(Zn.extractNumericId(i)):Mf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ca.fromString(e.substring(4,e.length-2))}}class ee extends Zn{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const W1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Zn{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return W1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===my}static keyField(){return new Be([my])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const p=e[u];if(p==="\\"){if(u+1===e.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else p==="`"?(d=!d,u++):p!=="."||d?(s+=p,u++):(h(),u++)}if(h(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(ee.fromString(e))}static fromName(e){return new ct(ee.fromString(e).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new ee(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function tA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=vt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new fa(u,ct.empty(),e)}function eA(r){return new fa(r.readTime,r.key,ql)}class fa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new fa(vt.min(),ct.empty(),ql)}static max(){return new fa(vt.max(),ct.empty(),ql)}}function nA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Rt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==iA)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,s)=>{i(e)})}static reject(e){return new F((i,s)=>{s(e)})}static waitFor(e){return new F((i,s)=>{let u=0,h=0,d=!1;e.forEach(p=>{++u,p.next(()=>{++h,d&&h===u&&i()},v=>s(v))}),d=!0,h===u&&i()})}static or(e){let i=F.resolve(!1);for(const s of e)i=i.next(u=>u?F.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new F((s,u)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++p,p===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new F((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function sA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _r(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Jo.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function $o(r){return r==null}function Po(r){return r===0&&1/r==-1/0}function rA(r){return typeof r=="number"&&Number.isInteger(r)&&!Po(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function lA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=gy(e)),e=uA(r.get(i),e);return gy(e)}function uA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case R_:i+="";break;default:i+=h}}return i}function gy(r){return r+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function rs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function w_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}}class bo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new ze(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,s,u,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(e){return new yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Nn([])}unionWith(e){let i=new be(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Nn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return or(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new C_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(r){if(jt(!!r,39018),typeof r=="string"){let e=0;const i=oA.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ma(r){return typeof r=="string"?Pe.fromBase64String(r):Pe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="server_timestamp",V_="__type__",I_="__previous_value__",O_="__local_write_time__";function ed(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===D_}function Wo(r){const e=r.mapValue.fields[I_];return ed(e)?Wo(e):e}function Hl(r){const e=da(r.mapValue.fields[O_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,s,u,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ko="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||ko}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ko}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__type__",hA="__max__",Ro={mapValue:{}},M_="__vector__",jo="value";function ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ed(r)?4:dA(r)?9007199254740991:fA(r)?10:11:gt(28295,{value:r})}function Wn(r,e){if(r===e)return!0;const i=ga(r);if(i!==ga(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Hl(r).isEqual(Hl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=da(u.timestampValue),p=da(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(u,h){return ma(u.bytesValue).isEqual(ma(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(r,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),p=he(h.doubleValue);return d===p?Po(d)===Po(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return or(r.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},p=h.mapValue.fields||{};if(py(d)!==py(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Wn(d[v],p[v])))return!1;return!0}(r,e);default:return gt(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find(i=>Wn(i,e))!==void 0}function cr(r,e){if(r===e)return 0;const i=ga(r),s=ga(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const p=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1}(r,e);case 3:return _y(r.timestampValue,e.timestampValue);case 4:return _y(Hl(r),Hl(e));case 5:return Mf(r.stringValue,e.stringValue);case 6:return function(h,d){const p=ma(h),v=ma(d);return p.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=Rt(p[_],v[_]);if(A!==0)return A}return Rt(p.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const p=Rt(he(h.latitude),he(d.latitude));return p!==0?p:Rt(he(h.longitude),he(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return vy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var p,v,_,A;const N=h.fields||{},x=d.fields||{},G=(p=N[jo])===null||p===void 0?void 0:p.arrayValue,Z=(v=x[jo])===null||v===void 0?void 0:v.arrayValue,nt=Rt(((_=G==null?void 0:G.values)===null||_===void 0?void 0:_.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:vy(G,Z)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ro.mapValue&&d===Ro.mapValue)return 0;if(h===Ro.mapValue)return 1;if(d===Ro.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let N=0;N<v.length&&N<A.length;++N){const x=Mf(v[N],A[N]);if(x!==0)return x;const G=cr(p[v[N]],_[A[N]]);if(G!==0)return G}return Rt(v.length,A.length)}(r.mapValue,e.mapValue);default:throw gt(23264,{Pe:i})}}function _y(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Rt(r,e);const i=da(r),s=da(e),u=Rt(i.seconds,s.seconds);return u!==0?u:Rt(i.nanos,s.nanos)}function vy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=cr(i[u],s[u]);if(h)return h}return Rt(i.length,s.length)}function hr(r){return xf(r)}function xf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=da(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return ma(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ct.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=xf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${xf(i.fields[d])}`;return u+"}"}(r.mapValue):gt(61005,{value:r})}function Io(r){switch(ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(r);return e?16+Io(e):16;case 5:return 2*r.stringValue.length;case 6:return ma(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Io(h),0)}(r.arrayValue);case 10:case 11:return function(s){let u=0;return rs(s.fields,(h,d)=>{u+=h.length+Io(d)}),u}(r.mapValue);default:throw gt(13486,{value:r})}}function Uf(r){return!!r&&"integerValue"in r}function nd(r){return!!r&&"arrayValue"in r}function Ey(r){return!!r&&"nullValue"in r}function Ty(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oo(r){return!!r&&"mapValue"in r}function fA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[N_])===null||i===void 0?void 0:i.stringValue)===M_}function Ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Ul(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(r.arrayValue.values[i]);return e}return Object.assign({},r)}function dA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Be.emptyPath(),s={},u=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=p.popLast()}d?s[p.lastSegment()]=Ul(d):u.push(p.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){rs(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new Rn(Ul(this.value))}}function x_(r){const e=[];return rs(r.fields,(i,s)=>{const u=new Be([i]);if(Oo(s)){const h=x_(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,u,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Qe(e,0,vt.min(),vt.min(),vt.min(),Rn.empty(),0)}static newFoundDocument(e,i,s,u){return new Qe(e,1,i,vt.min(),s,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,vt.min(),vt.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,vt.min(),vt.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function Ay(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=cr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Wn(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function mA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{}class Ae extends U_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new pA(e,i,s):i==="array-contains"?new vA(e,s):i==="in"?new EA(e,s):i==="not-in"?new TA(e,s):i==="array-contains-any"?new AA(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new yA(e,s):new _A(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(cr(i,this.value)):i!==null&&ga(this.value)===ga(i)&&this.matchesComparison(cr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends U_{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new ti(e,i)}matches(e){return L_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function L_(r){return r.op==="and"}function z_(r){return gA(r)&&L_(r)}function gA(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Lf(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+hr(r.value);if(z_(r))return r.filters.map(e=>Lf(e)).join(",");{const e=r.filters.map(i=>Lf(i)).join(",");return`${r.op}(${e})`}}function B_(r,e){return r instanceof Ae?function(s,u){return u instanceof Ae&&s.op===u.op&&s.field.isEqual(u.field)&&Wn(s.value,u.value)}(r,e):r instanceof ti?function(s,u){return u instanceof ti&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,p)=>h&&B_(d,u.filters[p]),!0):!1}(r,e):void gt(19439)}function P_(r){return r instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${hr(i.value)}`}(r):r instanceof ti?function(i){return i.op.toString()+" {"+i.getFilters().map(P_).join(" ,")+"}"}(r):"Filter"}class pA extends Ae{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class yA extends Ae{constructor(e,i){super(e,"in",i),this.keys=k_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class _A extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=k_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function k_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class vA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Ql(i.arrayValue,this.value)}}class EA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ql(this.value.arrayValue,i)}}class TA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ql(this.value.arrayValue,i)}}class AA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i=null,s=[],u=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=p,this.Ie=null}}function by(r,e=null,i=[],s=[],u=null,h=null,d=null){return new SA(r,e,i,s,u,h,d)}function id(r){const e=Et(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Lf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),$o(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>hr(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>hr(s)).join(",")),e.Ie=i}return e.Ie}function ad(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!mA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!B_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Sy(r.startAt,e.startAt)&&Sy(r.endAt,e.endAt)}function zf(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i=null,s=[],u=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function bA(r,e,i,s,u,h,d,p){return new tc(r,e,i,s,u,h,d,p)}function sd(r){return new tc(r)}function Ry(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function RA(r){return r.collectionGroup!==null}function Ll(r){const e=Et(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new be(Be.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(p=p.add(_.field))})}),p})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new Ho(h,s))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new Ho(Be.keyField(),s))}return e.Ee}function Jn(r){const e=Et(r);return e.de||(e.de=wA(e,Ll(r))),e.de}function wA(r,e){if(r.limitType==="F")return by(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=r.endAt?new qo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qo(r.startAt.position,r.startAt.inclusive):null;return by(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Bf(r,e,i){return new tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function ec(r,e){return ad(Jn(r),Jn(e))&&r.limitType===e.limitType}function j_(r){return`${id(Jn(r))}|lt:${r.limitType}`}function ir(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>P_(u)).join(", ")}]`),$o(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>hr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>hr(u)).join(",")),`Target(${s})`}(Jn(r))}; limitType=${r.limitType})`}function nc(r,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,u){for(const h of Ll(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(r,e)&&function(s,u){return!(s.startAt&&!function(d,p,v){const _=Ay(d,p,v);return d.inclusive?_<=0:_<0}(s.startAt,Ll(s),u)||s.endAt&&!function(d,p,v){const _=Ay(d,p,v);return d.inclusive?_>=0:_>0}(s.endAt,Ll(s),u))}(r,e)}function CA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q_(r){return(e,i)=>{let s=!1;for(const u of Ll(r)){const h=DA(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function DA(r,e,i){const s=r.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?cr(v,_):gt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new ae(ct.comparator);function Oi(){return VA}const H_=new ae(ct.comparator);function Ol(...r){let e=H_;for(const i of r)e=e.insert(i.key,i);return e}function G_(r){let e=H_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ns(){return zl()}function Q_(){return zl()}function zl(){return new ls(r=>r.toString(),(r,e)=>r.isEqual(e))}const IA=new ae(ct.comparator),OA=new be(ct.comparator);function It(...r){let e=OA;for(const i of r)e=e.add(i);return e}const NA=new be(Rt);function MA(){return NA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function Y_(r){return{integerValue:""+r}}function xA(r,e){return rA(e)?Y_(e):rd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this._=void 0}}function UA(r,e,i){return r instanceof Go?function(u,h){const d={fields:{[V_]:{stringValue:D_},[O_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=Wo(h)),h&&(d.fields[I_]=h),{mapValue:d}}(i,e):r instanceof Yl?K_(r,e):r instanceof Fl?X_(r,e):function(u,h){const d=F_(u,h),p=wy(d)+wy(u.Re);return Uf(d)&&Uf(u.Re)?Y_(p):rd(u.serializer,p)}(r,e)}function LA(r,e,i){return r instanceof Yl?K_(r,e):r instanceof Fl?X_(r,e):i}function F_(r,e){return r instanceof Qo?function(s){return Uf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Go extends ic{}class Yl extends ic{constructor(e){super(),this.elements=e}}function K_(r,e){const i=Z_(e);for(const s of r.elements)i.some(u=>Wn(u,s))||i.push(s);return{arrayValue:{values:i}}}class Fl extends ic{constructor(e){super(),this.elements=e}}function X_(r,e){let i=Z_(e);for(const s of r.elements)i=i.filter(u=>!Wn(u,s));return{arrayValue:{values:i}}}class Qo extends ic{constructor(e,i){super(),this.serializer=e,this.Re=i}}function wy(r){return he(r.integerValue||r.doubleValue)}function Z_(r){return nd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function zA(r,e){return r.field.isEqual(e.field)&&function(s,u){return s instanceof Yl&&u instanceof Yl||s instanceof Fl&&u instanceof Fl?or(s.elements,u.elements,Wn):s instanceof Qo&&u instanceof Qo?Wn(s.Re,u.Re):s instanceof Go&&u instanceof Go}(r.transform,e.transform)}class BA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ac{}function J_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new W_(r.key,Di.none()):new Kl(r.key,r.data,Di.none());{const i=r.data,s=Rn.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new us(r.key,s,new Nn(u.toArray()),Di.none())}}function PA(r,e,i){r instanceof Kl?function(u,h,d){const p=u.value.clone(),v=Dy(u.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):r instanceof us?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const p=Dy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll($_(u)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(r,e,i,s){return r instanceof Kl?function(h,d,p,v){if(!No(h.precondition,d))return p;const _=h.value.clone(),A=Vy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,s):r instanceof us?function(h,d,p,v){if(!No(h.precondition,d))return p;const _=Vy(h.fieldTransforms,v,d),A=d.data;return A.setAll($_(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(r,e,i,s):function(h,d,p){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,i)}function kA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=F_(s.transform,u||null);h!=null&&(i===null&&(i=Rn.empty()),i.set(s.field,h))}return i||null}function Cy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&or(s,u,(h,d)=>zA(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Kl extends ac{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class us extends ac{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function $_(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function Dy(r,e,i){const s=new Map;jt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,p=e.data.field(h.field);s.set(h.field,LA(d,p,i[u]))}return s}function Vy(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,UA(h,d,e))}return s}class W_ extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&PA(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Bl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Bl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Q_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(u.key)?null:p;const v=J_(d,p);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&or(this.mutations,e.mutations,(i,s)=>Cy(i,s))&&or(this.baseMutations,e.baseMutations,(i,s)=>Cy(i,s))}}class ld{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){jt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let u=function(){return IA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new ld(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function QA(r){switch(r){case X.OK:return gt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function tv(r){if(r===void 0)return Ii("GRPC error has no .code"),X.UNKNOWN;switch(r){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return gt(39323,{code:r})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new ca([4294967295,4294967295],0);function Iy(r){const e=S_().encode(r),i=new g_;return i.update(e),new Uint8Array(i.digest())}function Oy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ca([i,s],0),new ca([u,h],0)]}class ud{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=ca.fromNumber(this.pe)}we(e,i,s){let u=e.add(i.multiply(ca.fromNumber(s)));return u.compare(YA)===1&&(u=new ca([u.getBits(0),u.getBits(1)],0)),u.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=Iy(e),[s,u]=Oy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);if(!this.Se(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new ud(h,u,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const i=Iy(e),[s,u]=Oy(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,u,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new sc(vt.min(),u,new ae(Rt),Oi(),It())}}class Xl{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Xl(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,s,u){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=u}}class ev{constructor(e,i){this.targetId=e,this.Ce=i}}class nv{constructor(e,i,s=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Ny{constructor(){this.Fe=0,this.Me=My(),this.xe=Pe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=It(),i=It(),s=It();return this.Me.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:gt(38017,{changeType:h})}}),new Xl(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=My()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class FA{constructor(e){this.ze=e,this.je=new Map,this.He=Oi(),this.Je=wo(),this.Ye=wo(),this.Ze=new ae(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,u)=>{this.it(u)&&i(u)})}ot(e){const i=e.targetId,s=e.Ce.count,u=this._t(i);if(u){const h=u.target;if(zf(h))if(s===0){const d=new ct(h.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const p=this.ct(e),v=p?this.lt(p,e,d):1;if(v!==0){this.st(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,p;try{d=ma(s).toUint8Array()}catch(v){if(v instanceof C_)return ur("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new ud(d,u,h)}catch(v){return ur(v instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.pe===0?null:p}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.tt(i,h,null),u++)}),u}It(e){const i=new Map;this.je.forEach((h,d)=>{const p=this._t(d);if(p){if(h.current&&zf(p.target)){const v=new ct(p.target.path);this.Et(v).has(d)||this.dt(d,v)||this.tt(d,v,Qe.newNoDocument(v,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=It();this.Ye.forEach((h,d)=>{let p=!0;d.forEachWhile(v=>{const _=this._t(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ze,this.He,s);return this.He=Oi(),this.Je=wo(),this.Ye=wo(),this.Ze=new ae(Rt),u}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const u=this.rt(e);this.dt(e,i)?u.$e(i,1):u.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new Ny,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new be(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new be(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ny),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function wo(){return new ae(ct.comparator)}function My(){return new ae(ct.comparator)}const KA={asc:"ASCENDING",desc:"DESCENDING"},XA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZA={and:"AND",or:"OR"};class JA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pf(r,e){return r.useProto3Json||$o(e)?e:{value:e}}function Yo(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $A(r,e){return Yo(r,e.toTimestamp())}function $n(r){return jt(!!r,49232),vt.fromTimestamp(function(i){const s=da(i);return new Se(s.seconds,s.nanos)}(r))}function od(r,e){return kf(r,e).canonicalString()}function kf(r,e){const i=function(u){return new ee(["projects",u.projectId,"databases",u.database])}(r).child("documents");return e===void 0?i:i.child(e)}function av(r){const e=ee.fromString(r);return jt(ov(e),10190,{key:e.toString()}),e}function jf(r,e){return od(r.databaseId,e.path)}function Sf(r,e){const i=av(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(rv(i))}function sv(r,e){return od(r.databaseId,e)}function WA(r){const e=av(r);return e.length===4?ee.emptyPath():rv(e)}function qf(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rv(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function xy(r,e,i){return{name:jf(r,e),fields:i.value.mapValue.fields}}function tS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Pe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Pe.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const A=_.code===void 0?X.UNKNOWN:tv(_.code);return new ut(A,_.message||"")}(d);i=new nv(s,u,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Sf(r,s.document.name),h=$n(s.document.updateTime),d=s.document.createTime?$n(s.document.createTime):vt.min(),p=new Rn({mapValue:{fields:s.document.fields}}),v=Qe.newFoundDocument(u,h,d,p),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Mo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Sf(r,s.document),h=s.readTime?$n(s.readTime):vt.min(),d=Qe.newNoDocument(u,h),p=s.removedTargetIds||[];i=new Mo([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Sf(r,s.document),h=s.removedTargetIds||[];i=new Mo([],h,u,null)}else{if(!("filter"in e))return gt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new GA(u,h),p=s.targetId;i=new ev(p,d)}}return i}function eS(r,e){let i;if(e instanceof Kl)i={update:xy(r,e.key,e.value)};else if(e instanceof W_)i={delete:jf(r,e.key)};else if(e instanceof us)i={update:xy(r,e.key,e.data),updateMask:cS(e.fieldMask)};else{if(!(e instanceof jA))return gt(16599,{ft:e.type});i={verify:jf(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const p=d.transform;if(p instanceof Go)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qo)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw gt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:$A(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)}(r,e.precondition)),i}function nS(r,e){return r&&r.length>0?(jt(e!==void 0,14353),r.map(i=>function(u,h){let d=u.updateTime?$n(u.updateTime):$n(h);return d.isEqual(vt.min())&&(d=$n(h)),new BA(d,u.transformResults||[])}(i,e))):[]}function iS(r,e){return{documents:[sv(r,e.path)]}}function aS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=sv(r,u);const h=function(_){if(_.length!==0)return uv(ti.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(x){return{field:ar(x.field),direction:lS(x.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Pf(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{gt:i,parent:u}}function sS(r){let e=WA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){jt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const x=lv(N);return x instanceof ti&&z_(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(x=>function(Z){return new Ho(sr(Z.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(x))}(i.orderBy));let p=null;i.limit&&(p=function(N){let x;return x=typeof N=="object"?N.value:N,$o(x)?null:x}(i.limit));let v=null;i.startAt&&(v=function(N){const x=!!N.before,G=N.values||[];return new qo(G,x)}(i.startAt));let _=null;return i.endAt&&(_=function(N){const x=!N.before,G=N.values||[];return new qo(G,x)}(i.endAt)),bA(e,u,d,h,p,"F",v,_)}function rS(r,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:u})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function lv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=sr(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=sr(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=sr(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sr(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ae.create(sr(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ti.create(i.compositeFilter.filters.map(s=>lv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(i.compositeFilter.op))}(r):gt(30097,{filter:r})}function lS(r){return KA[r]}function uS(r){return XA[r]}function oS(r){return ZA[r]}function ar(r){return{fieldPath:r.canonicalString()}}function sr(r){return Be.fromServerFormat(r.fieldPath)}function uv(r){return r instanceof Ae?function(i){if(i.op==="=="){if(Ty(i.value))return{unaryFilter:{field:ar(i.field),op:"IS_NAN"}};if(Ey(i.value))return{unaryFilter:{field:ar(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ty(i.value))return{unaryFilter:{field:ar(i.field),op:"IS_NOT_NAN"}};if(Ey(i.value))return{unaryFilter:{field:ar(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ar(i.field),op:uS(i.op),value:i.value}}}(r):r instanceof ti?function(i){const s=i.getFilters().map(u=>uv(u));return s.length===1?s[0]:{compositeFilter:{op:oS(i.op),filters:s}}}(r):gt(54877,{filter:r})}function cS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function ov(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i,s,u,h=vt.min(),d=vt.min(),p=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.wt=e}}function fS(r){const e=sS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Cn=new mS}addToCollectionParentIndex(e,i){return this.Cn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(fa.min())}updateCollectionGroup(e,i,s){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class mS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new be(ee.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(cv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fr(0)}static lr(){return new fr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LruGarbageCollector",gS=1048576;function zy([r,e],[i,s]){const u=Rt(r,i);return u===0?Rt(e,s):u}class pS{constructor(e){this.Er=e,this.buffer=new be(zy),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();zy(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){it(Ly,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_r(i)?it(Ly,"Ignoring IndexedDB error during garbage collection: ",i):await yr(i)}await this.mr(3e5)})}}class _S{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return F.resolve(Jo.le);const s=new pS(i);return this.gr.forEachTarget(e,u=>s.Rr(u.sequenceNumber)).next(()=>this.gr.yr(e,u=>s.Rr(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.gr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Uy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uy):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let s,u,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),u=this.params.maximumSequenceNumbersToCollect):u=N,d=Date.now(),this.nthSequenceNumber(e,u))).next(N=>(s=N,p=Date.now(),this.removeTargets(e,s,i))).next(N=>(h=N,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(N=>(_=Date.now(),nr()<=Lt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${N} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:N})))}}function vS(r,e){return new _S(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.changes=new ls(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?F.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Bl(s.mutation,u,Nn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const u=ns();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Ol();return h.forEach((p,v)=>{d=d.insert(p,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ns();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,u){let h=Oi();const d=zl(),p=function(){return zl()}();return i.forEach((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof us)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Bl(A.mutation,_,A.mutation.getFieldMask(),Se.now())):d.set(_.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var N;return p.set(_,new TS(A,(N=d.get(_))!==null&&N!==void 0?N:null))}),p))}recalculateAndSaveOverlays(e,i){const s=zl();let u=new ae((d,p)=>d-p),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Nn.empty();A=p.applyToLocalView(_,A),s.set(v,A);const N=(u.get(p.batchId)||It()).add(v);u=u.insert(p.batchId,N)})}).next(()=>{const d=[],p=u.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,N=Q_();A.forEach(x=>{if(!h.has(x)){const G=J_(i.get(x),s.get(x));G!==null&&N.set(x,G),h=h.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,N))}return F.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):RA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):F.resolve(ns());let p=ql,v=h;return d.next(_=>F.forEach(_,(A,N)=>(p<N.largestBatchId&&(p=N.largestBatchId),h.get(A)?F.resolve():this.remoteDocumentCache.getEntry(e,A).next(x=>{v=v.insert(A,x)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,It())).next(A=>({batchId:p,changes:G_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(s=>{let u=Ol();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Ol();return this.indexManager.getCollectionParents(e,h).next(p=>F.forEach(p,v=>{const _=function(N,x){return new tc(x,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next(A=>{A.forEach((N,x)=>{d=d.insert(N,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let p=Ol();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Bl(A.mutation,_,Nn.empty(),Se.now()),nc(i,_)&&(p=p.insert(v,_))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return F.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:$n(u.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(u){return{name:u.name,query:fS(u.bundledQuery),readTime:$n(u.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.overlays=new ae(ct.comparator),this.Qr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ns();return F.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.bt(e,i,h)}),F.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Qr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),F.resolve()}getOverlaysForCollection(e,i,s){const u=ns(),h=i.length+1,d=new ct(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&u.set(v.getKey(),v)}return F.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ae((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ns(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ns(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>p.set(_,A)),!(p.size()>=u)););return F.resolve(p)}bt(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Qr.get(u.largestBatchId).delete(s.key);this.Qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HA(i,s));let h=this.Qr.get(i);h===void 0&&(h=It(),this.Qr.set(i,h)),this.Qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.$r=new be(Oe.Ur),this.Kr=new be(Oe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const s=new Oe(e,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.zr(new Oe(e,i))}jr(e,i){e.forEach(s=>this.removeReference(s,i))}Hr(e){const i=new ct(new ee([])),s=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Kr.forEachInRange([s,u],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new ct(new ee([])),s=new Oe(i,e),u=new Oe(i,e+1);let h=It();return this.Kr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Oe{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return ct.comparator(e.key,i.key)||Rt(e.Zr,i.Zr)}static Wr(e,i){return Rt(e.Zr,i.Zr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new be(Oe.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qA(h,i,s,u);this.mutationQueue.push(d);for(const p of u)this.Xr=this.Xr.add(new Oe(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return F.resolve(d)}lookupMutationBatch(e,i){return F.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ti(s),h=u<0?0:u;return F.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?td:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,u],d=>{const p=this.ei(d.Zr);h.push(p)}),F.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(Rt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],p=>{s=s.add(p.Zr)})}),F.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ct(h),0);let p=new be(Rt);return this.Xr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(p=p.add(v.Zr)),!0)},d),F.resolve(this.ni(p))}ni(e){const i=[];return e.forEach(s=>{const u=this.ei(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){jt(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return F.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,i){const s=new Oe(i,0),u=this.Xr.firstAfterOrEqual(s);return F.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.ii=e,this.docs=function(){return new ae(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return F.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=Oi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),F.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Oi();const d=i.path,p=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||nA(eA(A),s)<=0||(u.has(A.key)||nc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return F.resolve(h)}getAllFromCollectionGroup(e,i,s,u){gt(9500)}si(e,i){return F.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new DS(this)}getSize(e){return F.resolve(this.size)}}class DS extends ES{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Br.addEntry(e,u)):this.Br.removeEntry(s)}),F.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.persistence=e,this.oi=new ls(i=>id(i),ad),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this._i=0,this.ai=new cd,this.targetCount=0,this.ui=fr.cr()}forEachTarget(e,i){return this.oi.forEach((s,u)=>i(u)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),F.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new fr(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.Tr(i),F.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),u++)}),F.waitFor(h).next(()=>u)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const s=this.oi.get(i)||null;return F.resolve(s)}addMatchingKeys(e,i,s){return this.ai.Gr(i,s),F.resolve()}removeMatchingKeys(e,i,s){this.ai.jr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),F.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ai.Yr(i);return F.resolve(s)}containsKey(e,i){return F.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,i){this.ci={},this.overlays={},this.li=new Jo(0),this.hi=!1,this.hi=!0,this.Pi=new RS,this.referenceDelegate=e(this),this.Ti=new VS(this),this.indexManager=new dS,this.remoteDocumentCache=function(u){return new CS(u)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new hS(i),this.Ei=new SS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ci[e.toKey()];return s||(s=new wS(i,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new IS(this.li.next());return this.referenceDelegate.di(),s(u).next(h=>this.referenceDelegate.Ai(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ri(e,i){return F.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,i)))}}class IS extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class hd{constructor(e){this.persistence=e,this.Vi=new cd,this.mi=null}static fi(e){return new hd(e)}get gi(){if(this.mi)return this.mi;throw gt(60996)}addReference(e,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),F.resolve()}removeReference(e,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),F.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(u=>this.gi.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,s=>{const u=ct.fromPath(s);return this.pi(e,u).next(h=>{h||i.removeEntry(u,vt.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return F.or([()=>F.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.yi=new ls(s=>lA(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=vS(this,i)}static fi(e,i){return new Fo(e,i)}di(){}Ai(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}Sr(e){let i=0;return this.yr(e,s=>{i++}).next(()=>i)}yr(e,i){return F.forEach(this.yi,(s,u)=>this.Dr(e,s,u).next(h=>h?F.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.si(e,d=>this.Dr(e,d,i).next(p=>{p||(s++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,i,s){return this.yi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),F.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}Dr(e,i,s){return F.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.yi.get(i);return F.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.ds=s,this.As=u}static Rs(e,i){let s=It(),u=It();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new fd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return CT()?8:sA(RT())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.ws(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new OS;return this.bs(e,i,d).next(p=>{if(h.result=p,this.fs)return this.Ds(e,i,d,p.size)})}).next(()=>h.result)}Ds(e,i,s,u){return s.documentReadCount<this.gs?(nr()<=Lt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ir(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(nr()<=Lt.DEBUG&&it("QueryEngine","Query:",ir(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ps*u?(nr()<=Lt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ir(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):F.resolve())}ws(e,i){if(Ry(i))return F.resolve(null);let s=Jn(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Bf(i,null,"F"),s=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=It(...h);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.vs(i,p);return this.Cs(i,_,d,v.readTime)?this.ws(e,Bf(i,null,"F")):this.Fs(e,_,i,v)}))})))}Ss(e,i,s,u){return Ry(i)||u.isEqual(vt.min())?F.resolve(null):this.ys.getDocuments(e,s).next(h=>{const d=this.vs(i,h);return this.Cs(i,d,s,u)?F.resolve(null):(nr()<=Lt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ir(i)),this.Fs(e,d,i,tA(u,ql)).next(p=>p))})}vs(e,i){let s=new be(q_(e));return i.forEach((u,h)=>{nc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}bs(e,i,s){return nr()<=Lt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ir(i)),this.ys.getDocumentsMatchingQuery(e,i,fa.min(),s)}Fs(e,i,s,u){return this.ys.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="LocalStore",MS=3e8;class xS{constructor(e,i,s,u){this.persistence=e,this.Ms=i,this.serializer=u,this.xs=new ae(Rt),this.Os=new ls(h=>id(h),ad),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AS(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function US(r,e,i,s){return new xS(r,e,i,s)}async function fv(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.Ls(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],p=[];let v=It();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({ks:_,removedBatchIds:d,addedBatchIds:p}))})})}function LS(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.Bs.newChangeBuffer({trackRemovals:!0});return function(p,v,_,A){const N=_.batch,x=N.keys();let G=F.resolve();return x.forEach(Z=>{G=G.next(()=>A.getEntry(v,Z)).next(nt=>{const $=_.docVersions.get(Z);jt($!==null,48541),nt.version.compareTo($)<0&&(N.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),G.next(()=>p.mutationQueue.removeMutationBatch(v,N))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let v=It();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function dv(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function zS(r,e){const i=Et(r),s=e.snapshotVersion;let u=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Bs.newChangeBuffer({trackRemovals:!0});u=i.xs;const p=[];e.targetChanges.forEach((A,N)=>{const x=u.get(N);if(!x)return;p.push(i.Ti.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Ti.addMatchingKeys(h,A.addedDocuments,N)));let G=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?G=G.withResumeToken(Pe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,s)),u=u.insert(N,G),function(nt,$,Tt){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=MS?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(x,G,A)&&p.push(i.Ti.updateTargetData(h,G))});let v=Oi(),_=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),p.push(BS(h,d,e.documentUpdates).next(A=>{v=A.qs,_=A.Qs})),!s.isEqual(vt.min())){const A=i.Ti.getLastRemoteSnapshotVersion(h).next(N=>i.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));p.push(A)}return F.waitFor(p).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.xs=u,h))}function BS(r,e,i){let s=It(),u=It();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Oi();return i.forEach((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(p)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(dd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)}),{qs:d,Qs:u}})}function PS(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kS(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ti.getTargetData(s,e).next(h=>h?(u=h,F.resolve(u)):i.Ti.allocateTargetId(s).next(d=>(u=new la(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.xs.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(e,s.targetId)),s})}async function Hf(r,e,i){const s=Et(r),u=s.xs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!_r(d))throw d;it(dd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(u.target)}function By(r,e,i){const s=Et(r);let u=vt.min(),h=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const N=Et(v),x=N.Os.get(A);return x!==void 0?F.resolve(N.xs.get(x)):N.Ti.getTargetData(_,A)}(s,d,Jn(e)).next(p=>{if(p)return u=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,p.targetId).next(v=>{h=v})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,i?u:vt.min(),i?h:It())).next(p=>(jS(s,CA(e),p),{documents:p,$s:h})))}function jS(r,e,i){let s=r.Ns.get(e)||vt.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Ns.set(e,s)}class Py{constructor(){this.activeTargetIds=MA()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(){this.xo=new Py,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,s){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Py,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="ConnectivityMonitor";class jy{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){it(ky,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){it(ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=null;function Gf(){return Co===null?Co=function(){return 268435456+Math.round(2147483648*Math.random())}():Co++,"0x"+Co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",GS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QS{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${s}/databases/${u}`,this.Go=this.databaseId.database===ko?`project_id=${s}`:`project_id=${s}&database_id=${u}`}zo(e,i,s,u,h){const d=Gf(),p=this.jo(e,i.toUriEncodedString());it(bf,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,u,h);const{host:_}=new URL(p),A=Jf(_);return this.Jo(e,p,v,s,A).then(N=>(it(bf,`Received RPC '${e}' ${d}: `,N),N),N=>{throw ur(bf,`RPC '${e}' ${d} failed with error: `,N,"url: ",p,"request:",s),N})}Yo(e,i,s,u,h,d){return this.zo(e,i,s,u,h)}Ho(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}jo(e,i){const s=GS[e];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class FS extends QS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,h){const d=Gf();return new Promise((p,v)=>{const _=new p_;_.setWithCredentials(!0),_.listenOnce(y_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const N=_.getResponseJson();it(He,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(N)),p(N);break;case Vo.TIMEOUT:it(He,`RPC '${e}' ${d} timed out`),v(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const x=_.getStatus();if(it(He,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G==null?void 0:G.error;if(Z&&Z.status&&Z.message){const nt=function(Tt){const dt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(dt)>=0?dt:X.UNKNOWN}(Z.status);v(new ut(nt,Z.message))}else v(new ut(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut(X.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(He,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(u);it(He,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)})}T_(e,i,s){const u=Gf(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=E_(),p=v_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,v);const N=d.createWebChannel(A,v);let x=!1,G=!1;const Z=new YS({Zo:$=>{G?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,$):(x||(it(He,`Opening RPC '${e}' stream ${u} transport.`),N.open(),x=!0),it(He,`RPC '${e}' stream ${u} sending:`,$),N.send($))},Xo:()=>N.close()}),nt=($,Tt,dt)=>{$.listen(Tt,ht=>{try{dt(ht)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return nt(N,Il.EventType.OPEN,()=>{G||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.__())}),nt(N,Il.EventType.CLOSE,()=>{G||(G=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.u_())}),nt(N,Il.EventType.ERROR,$=>{G||(G=!0,ur(He,`RPC '${e}' stream ${u} transport errored. Name:`,$.name,"Message:",$.message),Z.u_(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),nt(N,Il.EventType.MESSAGE,$=>{var Tt;if(!G){const dt=$.data[0];jt(!!dt,16349);const ht=dt,Ot=(ht==null?void 0:ht.error)||((Tt=ht[0])===null||Tt===void 0?void 0:Tt.error);if(Ot){it(He,`RPC '${e}' stream ${u} received error:`,Ot);const _t=Ot.status;let zt=function(S){const C=pe[S];if(C!==void 0)return tv(C)}(_t),M=Ot.message;zt===void 0&&(zt=X.INTERNAL,M="Unknown error status: "+_t+" with message "+Ot.message),G=!0,Z.u_(new ut(zt,M)),N.close()}else it(He,`RPC '${e}' stream ${u} received:`,dt),Z.c_(dt)}}),nt(p,__.STAT_EVENT,$=>{$.stat===Nf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):$.stat===Nf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.a_()},0),Z}}function Rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(r){return new JA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.xi=e,this.timerId=i,this.I_=s,this.E_=u,this.d_=h,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,u,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="PersistentStream";class gv{constructor(e,i,s,u,h,d,p,v){this.xi=e,this.y_=s,this.w_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new mv(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.S_===i&&this.K_(s,u)},s=>{e(()=>{const u=new ut(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(u)})})}K_(e,i){const s=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(u=>{s(()=>this.W_(u))}),this.stream.onMessage(u=>{s(()=>++this.v_==1?this.z_(u):this.onNext(u))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return it(qy,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(it(qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KS extends gv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}G_(e,i){return this.connection.T_("Listen",e,i)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const i=tS(this.serializer,e),s=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?$n(d.readTime):vt.min()}(e);return this.listener.j_(i,s)}H_(e){const i={};i.database=qf(this.serializer),i.addTarget=function(h,d){let p;const v=d.target;if(p=zf(v)?{documents:iS(h,v)}:{query:aS(h,v).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=iv(h,d.resumeToken);const _=Pf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Yo(h,d.snapshotVersion.toTimestamp());const _=Pf(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p}(this.serializer,e);const s=rS(this.serializer,e);s&&(i.labels=s),this.L_(i)}J_(e){const i={};i.database=qf(this.serializer),i.removeTarget=e,this.L_(i)}}class XS extends gv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=nS(e.writeResults,e.commitTime),s=$n(e.commitTime);return this.listener.ea(s,i)}ta(){const e={};e.database=qf(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>eS(this.serializer,s))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class JS extends ZS{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.na=!1}ra(){if(this.na)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,s,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(e,kf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(X.UNKNOWN,h.toString())})}Yo(e,i,s,u,h){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,kf(i,s),u,d,p,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class $S{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ii(i),this.oa=!1):it("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class WS{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=h,this.Ea.No(d=>{s.enqueueAndForget(async()=>{os(this)&&(it(as,"Restarting streams for network reachability change."),await async function(v){const _=Et(v);_.Ta.add(4),await Zl(_),_.da.set("Unknown"),_.Ta.delete(4),await lc(_)}(this))})}),this.da=new $S(s,u)}}async function lc(r){if(os(r))for(const e of r.Ia)await e(!0)}async function Zl(r){for(const e of r.Ia)await e(!1)}function pv(r,e){const i=Et(r);i.Pa.has(e.targetId)||(i.Pa.set(e.targetId,e),yd(i)?pd(i):vr(i).M_()&&gd(i,e))}function md(r,e){const i=Et(r),s=vr(i);i.Pa.delete(e),s.M_()&&yv(i,e),i.Pa.size===0&&(s.M_()?s.N_():os(i)&&i.da.set("Unknown"))}function gd(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}vr(r).H_(e)}function yv(r,e){r.Aa.Ke(e),vr(r).J_(e)}function pd(r){r.Aa=new FA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),vr(r).start(),r.da._a()}function yd(r){return os(r)&&!vr(r).F_()&&r.Pa.size>0}function os(r){return Et(r).Ta.size===0}function _v(r){r.Aa=void 0}async function t2(r){r.da.set("Online")}async function e2(r){r.Pa.forEach((e,i)=>{gd(r,e)})}async function n2(r,e){_v(r),yd(r)?(r.da.ca(e),pd(r)):r.da.set("Unknown")}async function i2(r,e,i){if(r.da.set("Online"),e instanceof nv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const p of h.targetIds)u.Pa.has(p)&&(await u.remoteSyncer.rejectListen(p,d),u.Pa.delete(p),u.Aa.removeTarget(p))}(r,e)}catch(s){it(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ko(r,s)}else if(e instanceof Mo?r.Aa.Xe(e):e instanceof ev?r.Aa.ot(e):r.Aa.nt(e),!i.isEqual(vt.min()))try{const s=await dv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const p=h.Aa.It(d);return p.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Pa.get(_);A&&h.Pa.set(_,A.withResumeToken(v.resumeToken,d))}}),p.targetMismatches.forEach((v,_)=>{const A=h.Pa.get(v);if(!A)return;h.Pa.set(v,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),yv(h,v);const N=new la(A.target,v,_,A.sequenceNumber);gd(h,N)}),h.remoteSyncer.applyRemoteEvent(p)}(r,i)}catch(s){it(as,"Failed to raise snapshot:",s),await Ko(r,s)}}async function Ko(r,e,i){if(!_r(e))throw e;r.Ta.add(1),await Zl(r),r.da.set("Offline"),i||(i=()=>dv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(as,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await lc(r)})}function vv(r,e){return e().catch(i=>Ko(r,i,e))}async function uc(r){const e=Et(r),i=pa(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:td;for(;a2(e);)try{const u=await PS(e.localStore,s);if(u===null){e.ha.length===0&&i.N_();break}s=u.batchId,s2(e,u)}catch(u){await Ko(e,u)}Ev(e)&&Tv(e)}function a2(r){return os(r)&&r.ha.length<10}function s2(r,e){r.ha.push(e);const i=pa(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function Ev(r){return os(r)&&!pa(r).F_()&&r.ha.length>0}function Tv(r){pa(r).start()}async function r2(r){pa(r).ta()}async function l2(r){const e=pa(r);for(const i of r.ha)e.Z_(i.mutations)}async function u2(r,e,i){const s=r.ha.shift(),u=ld.from(s,e,i);await vv(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await uc(r)}async function o2(r,e){e&&pa(r).Y_&&await async function(s,u){if(function(d){return QA(d)&&d!==X.ABORTED}(u.code)){const h=s.ha.shift();pa(s).O_(),await vv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await uc(s)}}(r,e),Ev(r)&&Tv(r)}async function Hy(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(as,"RemoteStore received new credentials");const s=os(i);i.Ta.add(3),await Zl(i),s&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await lc(i)}async function c2(r,e){const i=Et(r);e?(i.Ta.delete(2),await lc(i)):e||(i.Ta.add(2),await Zl(i),i.da.set("Unknown"))}function vr(r){return r.Ra||(r.Ra=function(i,s,u){const h=Et(i);return h.ra(),new KS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:t2.bind(null,r),n_:e2.bind(null,r),i_:n2.bind(null,r),j_:i2.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),yd(r)?pd(r):r.da.set("Unknown")):(await r.Ra.stop(),_v(r))})),r.Ra}function pa(r){return r.Va||(r.Va=function(i,s,u){const h=Et(i);return h.ra(),new XS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:r2.bind(null,r),i_:o2.bind(null,r),X_:l2.bind(null,r),ea:u2.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await uc(r)):(await r.Va.stop(),r.ha.length>0&&(it(as,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,p=new _d(e,i,d,u,h);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(r,e){if(Ii("AsyncQueue",`${e}: ${r}`),_r(r))return new ut(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{static emptySet(e){return new lr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Ol(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new lr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.ma=new ae(ct.comparator)}track(e){const i=e.doc.key,s=this.ma.get(i);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(i,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(i):e.type===1&&s.type===2?this.ma=this.ma.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(i,{type:2,doc:e.doc}):gt(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(i,e)}ga(){const e=[];return this.ma.inorderTraversal((i,s)=>{e.push(s)}),e}}class dr{constructor(e,i,s,u,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new dr(e,i,lr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ec(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class f2{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,s){const u=Et(i),h=u.queries;u.queries=Qy(),h.forEach((d,p)=>{for(const v of p.ya)v.onError(s)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function Qy(){return new ls(r=>j_(r),ec)}async function Av(r,e){const i=Et(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.wa()&&e.Sa()&&(s=2):(h=new h2,s=e.Sa()?0:1);try{switch(s){case 0:h.pa=await i.onListen(u,!0);break;case 1:h.pa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const p=vd(d,`Initialization of query '${ir(e.query)}' failed`);return void e.onError(p)}i.queries.set(u,h),h.ya.push(e),e.Da(i.onlineState),h.pa&&e.va(h.pa)&&Ed(i)}async function Sv(r,e){const i=Et(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ya.indexOf(e);d>=0&&(h.ya.splice(d,1),h.ya.length===0?u=e.Sa()?0:1:!h.wa()&&e.Sa()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function d2(r,e){const i=Et(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const p of d.ya)p.va(u)&&(s=!0);d.pa=u}}s&&Ed(i)}function m2(r,e,i){const s=Et(r),u=s.queries.get(e);if(u)for(const h of u.ya)h.onError(i);s.queries.delete(e)}function Ed(r){r.ba.forEach(e=>{e.next()})}var Qf,Yy;(Yy=Qf||(Qf={})).Ca="default",Yy.Cache="cache";class bv{constructor(e,i,s){this.query=e,this.Fa=i,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new dr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),i=!0):this.Na(e,this.onlineState)&&(this.Ba(e),i=!0),this.xa=e,i}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let i=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),i=!0),i}Na(e,i){if(!e.fromCache||!this.Sa())return!0;const s=i!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const i=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ba(e){e=dr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.key=e}}class wv{constructor(e){this.key=e}}class g2{constructor(e,i){this.query=e,this.Ga=i,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=It(),this.mutatedKeys=It(),this.Ha=q_(e),this.Ja=new lr(this.Ha)}get Ya(){return this.Ga}Za(e,i){const s=i?i.Xa:new Gy,u=i?i.Ja:this.Ja;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,p=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,N)=>{const x=u.get(A),G=nc(this.query,N)?N:null,Z=!!x&&this.mutatedKeys.has(x.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;x&&G?x.data.isEqual(G.data)?Z!==nt&&(s.track({type:3,doc:G}),$=!0):this.eu(x,G)||(s.track({type:2,doc:G}),$=!0,(v&&this.Ha(G,v)>0||_&&this.Ha(G,_)<0)&&(p=!0)):!x&&G?(s.track({type:0,doc:G}),$=!0):x&&!G&&(s.track({type:1,doc:x}),$=!0,(v||_)&&(p=!0)),$&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ja:d,Xa:s,Cs:p,mutatedKeys:h}}eu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((A,N)=>function(G,Z){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:$})}};return nt(G)-nt(Z)}(A.type,N.type)||this.Ha(A.doc,N.doc)),this.tu(s),u=u!=null&&u;const p=i&&!u?this.nu():[],v=this.ja.size===0&&this.current&&!u?1:0,_=v!==this.za;return this.za=v,d.length!==0||_?{snapshot:new dr(this.query,e.Ja,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Gy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(i=>this.Ga=this.Ga.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ga=this.Ga.delete(i)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=It(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const i=[];return e.forEach(s=>{this.ja.has(s)||i.push(new wv(s))}),this.ja.forEach(s=>{e.has(s)||i.push(new Rv(s))}),i}su(e){this.Ga=e.$s,this.ja=It();const i=this.Za(e.documents);return this.applyChanges(i,!0)}ou(){return dr.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Td="SyncEngine";class p2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class y2{constructor(e){this.key=e,this._u=!1}}class _2{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new ls(p=>j_(p),ec),this.cu=new Map,this.lu=new Set,this.hu=new ae(ct.comparator),this.Pu=new Map,this.Tu=new cd,this.Iu={},this.Eu=new Map,this.du=fr.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function v2(r,e,i=!0){const s=Nv(r);let u;const h=s.uu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.ou()):u=await Cv(s,e,i,!0),u}async function E2(r,e){const i=Nv(r);await Cv(i,e,!0,!1)}async function Cv(r,e,i,s){const u=await kS(r.localStore,Jn(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await T2(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&pv(r.remoteStore,u),p}async function T2(r,e,i,s,u){r.Ru=(N,x,G)=>async function(nt,$,Tt,dt){let ht=$.view.Za(Tt);ht.Cs&&(ht=await By(nt.localStore,$.query,!1).then(({documents:M})=>$.view.Za(M,ht)));const Ot=dt&&dt.targetChanges.get($.targetId),_t=dt&&dt.targetMismatches.get($.targetId)!=null,zt=$.view.applyChanges(ht,nt.isPrimaryClient,Ot,_t);return Ky(nt,$.targetId,zt.ru),zt.snapshot}(r,N,x,G);const h=await By(r.localStore,e,!0),d=new g2(e,h.$s),p=d.Za(h.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(p,r.isPrimaryClient,v);Ky(r,i,_.ru);const A=new p2(e,i,d);return r.uu.set(e,A),r.cu.has(i)?r.cu.get(i).push(e):r.cu.set(i,[e]),_.snapshot}async function A2(r,e,i){const s=Et(r),u=s.uu.get(e),h=s.cu.get(u.targetId);if(h.length>1)return s.cu.set(u.targetId,h.filter(d=>!ec(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Hf(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&md(s.remoteStore,u.targetId),Yf(s,u.targetId)}).catch(yr)):(Yf(s,u.targetId),await Hf(s.localStore,u.targetId,!0))}async function S2(r,e){const i=Et(r),s=i.uu.get(e),u=i.cu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),md(i.remoteStore,s.targetId))}async function b2(r,e,i){const s=O2(r);try{const u=await function(d,p){const v=Et(d),_=Se.now(),A=p.reduce((G,Z)=>G.add(Z.key),It());let N,x;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let Z=Oi(),nt=It();return v.Bs.getEntries(G,A).next($=>{Z=$,Z.forEach((Tt,dt)=>{dt.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,Z)).next($=>{N=$;const Tt=[];for(const dt of p){const ht=kA(dt,N.get(dt.key).overlayedDocument);ht!=null&&Tt.push(new us(dt.key,ht,x_(ht.value.mapValue),Di.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,Tt,p)}).next($=>{x=$;const Tt=$.applyToLocalDocumentSet(N,nt);return v.documentOverlayCache.saveOverlays(G,$.batchId,Tt)})}).then(()=>({batchId:x.batchId,changes:G_(N)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,p,v){let _=d.Iu[d.currentUser.toKey()];_||(_=new ae(Rt)),_=_.insert(p,v),d.Iu[d.currentUser.toKey()]=_}(s,u.batchId,i),await Jl(s,u.changes),await uc(s.remoteStore)}catch(u){const h=vd(u,"Failed to persist write");i.reject(h)}}async function Dv(r,e){const i=Et(r);try{const s=await zS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Pu.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d._u=!0:u.modifiedDocuments.size>0?jt(d._u,14607):u.removedDocuments.size>0&&(jt(d._u,42227),d._u=!1))}),await Jl(i,s,e)}catch(s){await yr(s)}}function Fy(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.uu.forEach((h,d)=>{const p=d.view.Da(e);p.snapshot&&u.push(p.snapshot)}),function(d,p){const v=Et(d);v.onlineState=p;let _=!1;v.queries.forEach((A,N)=>{for(const x of N.ya)x.Da(p)&&(_=!0)}),_&&Ed(v)}(s.eventManager,e),u.length&&s.au.j_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function R2(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Pu.get(e),h=u&&u.key;if(h){let d=new ae(ct.comparator);d=d.insert(h,Qe.newNoDocument(h,vt.min()));const p=It().add(h),v=new sc(vt.min(),new Map,new ae(Rt),d,p);await Dv(s,v),s.hu=s.hu.remove(h),s.Pu.delete(e),Ad(s)}else await Hf(s.localStore,e,!1).then(()=>Yf(s,e,i)).catch(yr)}async function w2(r,e){const i=Et(r),s=e.batch.batchId;try{const u=await LS(i.localStore,e);Iv(i,s,null),Vv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Jl(i,u)}catch(u){await yr(u)}}async function C2(r,e,i){const s=Et(r);try{const u=await function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next(N=>(jt(N!==null,37113),A=N.keys(),v.mutationQueue.removeMutationBatch(_,N))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);Iv(s,e,i),Vv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Jl(s,u)}catch(u){await yr(u)}}function Vv(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function Iv(r,e,i){const s=Et(r);let u=s.Iu[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Iu[s.currentUser.toKey()]=u}}function Yf(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),i&&r.au.Vu(s,i);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||Ov(r,s)})}function Ov(r,e){r.lu.delete(e.path.canonicalString());const i=r.hu.get(e);i!==null&&(md(r.remoteStore,i),r.hu=r.hu.remove(e),r.Pu.delete(i),Ad(r))}function Ky(r,e,i){for(const s of i)s instanceof Rv?(r.Tu.addReference(s.key,e),D2(r,s)):s instanceof wv?(it(Td,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||Ov(r,s.key)):gt(19791,{mu:s})}function D2(r,e){const i=e.key,s=i.path.canonicalString();r.hu.get(i)||r.lu.has(s)||(it(Td,"New document in limbo: "+i),r.lu.add(s),Ad(r))}function Ad(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const i=new ct(ee.fromString(e)),s=r.du.next();r.Pu.set(s,new y2(i)),r.hu=r.hu.insert(i,s),pv(r.remoteStore,new la(Jn(sd(i.path)),s,"TargetPurposeLimboResolution",Jo.le))}}async function Jl(r,e,i){const s=Et(r),u=[],h=[],d=[];s.uu.isEmpty()||(s.uu.forEach((p,v)=>{d.push(s.Ru(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const N=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,N?"current":"not-current")}if(_){u.push(_);const N=fd.Rs(v.targetId,_);h.push(N)}}))}),await Promise.all(d),s.au.j_(u),await async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>F.forEach(_,x=>F.forEach(x.ds,G=>A.persistence.referenceDelegate.addReference(N,x.targetId,G)).next(()=>F.forEach(x.As,G=>A.persistence.referenceDelegate.removeReference(N,x.targetId,G)))))}catch(N){if(!_r(N))throw N;it(dd,"Failed to update sequence numbers: "+N)}for(const N of _){const x=N.targetId;if(!N.fromCache){const G=A.xs.get(x),Z=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(Z);A.xs=A.xs.insert(x,nt)}}}(s.localStore,h))}async function V2(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){it(Td,"User change. New user:",e.toKey());const s=await fv(i.localStore,e);i.currentUser=e,function(h,d){h.Eu.forEach(p=>{p.forEach(v=>{v.reject(new ut(X.CANCELLED,d))})}),h.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Jl(i,s.ks)}}function I2(r,e){const i=Et(r),s=i.Pu.get(e);if(s&&s._u)return It().add(s.key);{let u=It();const h=i.cu.get(e);if(!h)return u;for(const d of h){const p=i.uu.get(d);u=u.unionWith(p.view.Ya)}return u}}function Nv(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R2.bind(null,e),e.au.j_=d2.bind(null,e.eventManager),e.au.Vu=m2.bind(null,e.eventManager),e}function O2(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}class Xo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return US(this.persistence,new NS,e.initialUser,this.serializer)}yu(e){return new hv(hd.fi,this.serializer)}pu(e){return new qS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xo.provider={build:()=>new Xo};class N2 extends Xo{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){jt(this.persistence.referenceDelegate instanceof Fo,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yS(s,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new hv(s=>Fo.fi(s,i),this.serializer)}}class Ff{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Fy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=V2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new f2}()}createDatastore(e){const i=rc(e.databaseInfo.databaseId),s=function(h){return new FS(h)}(e.databaseInfo);return function(h,d,p,v){return new JS(h,d,p,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,p){return new WS(s,u,h,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>Fy(this.syncEngine,i,0),function(){return jy.C()?new jy:new HS}())}createSyncEngine(e,i){return function(u,h,d,p,v,_,A){const N=new _2(u,h,d,p,v,_);return A&&(N.Au=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=Et(u);it(as,"RemoteStore shutting down."),h.Ta.add(5),await Zl(h),h.Ea.shutdown(),h.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class M2{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{it(ya,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(ya,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=vd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function wf(r,e){r.asyncQueue.verifyOperationInProgress(),it(ya,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async u=>{s.isEqual(u)||(await fv(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Xy(r,e){r.asyncQueue.verifyOperationInProgress();const i=await x2(r);it(ya,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Hy(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,u)=>Hy(e.remoteStore,u)),r._onlineComponents=e}async function x2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(ya,"Using user provided OfflineComponentProvider");try{await wf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ur("Error using user provided cache. Falling back to memory cache: "+i),await wf(r,new Xo)}}else it(ya,"Using default OfflineComponentProvider"),await wf(r,new N2(void 0));return r._offlineComponents}async function xv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(ya,"Using user provided OnlineComponentProvider"),await Xy(r,r._uninitializedComponentsProvider._online)):(it(ya,"Using default OnlineComponentProvider"),await Xy(r,new Ff))),r._onlineComponents}function U2(r){return xv(r).then(e=>e.syncEngine)}async function Uv(r){const e=await xv(r),i=e.eventManager;return i.onListen=v2.bind(null,e.syncEngine),i.onUnlisten=A2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=E2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=S2.bind(null,e.syncEngine),i}function L2(r,e,i={}){const s=new Ci;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new Mv({next:x=>{A.Cu(),d.enqueueAndForget(()=>Sv(h,N));const G=x.docs.has(p);!G&&x.fromCache?_.reject(new ut(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&v&&v.source==="server"?_.reject(new ut(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),N=new bv(sd(p.path),A,{includeMetadataChanges:!0,La:!0});return Av(h,N)}(await Uv(r),r.asyncQueue,e,i,s)),s.promise}function z2(r,e,i={}){const s=new Ci;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,p,v,_){const A=new Mv({next:x=>{A.Cu(),d.enqueueAndForget(()=>Sv(h,N)),x.fromCache&&v.source==="server"?_.reject(new ut(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),N=new bv(p,A,{includeMetadataChanges:!0,La:!0});return Av(h,N)}(await Uv(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(r,e,i){if(!i)throw new ut(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function B2(r,e,i,s){if(e===!0&&s===!0)throw new ut(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Jy(r){if(!ct.isDocumentKey(r))throw new ut(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $y(r){if(ct.isDocumentKey(r))throw new ut(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ss(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sd(r);throw new ut(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="firestore.googleapis.com",Wy=!0;class t_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bv,this.ssl=Wy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Wy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gS)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Q1;switch(s.type){case"firstParty":return new X1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Zy.get(i);s&&(it("ComponentProvider","Removing Datastore"),Zy.delete(i),s.terminate())}(this),Promise.resolve()}}function P2(r,e,i,s={}){var u;r=ss(r,oc);const h=Jf(e),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),v=`${e}:${i}`;h&&(ET(`https://${v}`),bT("Firestore",!0)),d.host!==Bv&&d.host!==v&&ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:h,emulatorOptions:s});if(!Lo(_,p)&&(r._setSettings(_),s.mockUserToken)){let A,N;if(typeof s.mockUserToken=="string")A=s.mockUserToken,N=Ge.MOCK_USER;else{A=TT(s.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ge(x)}r._authCredentials=new Y1(new A_(A,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cc(this.firestore,e,this._query)}}class cn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ha extends cc{constructor(e,i,s){super(e,i,sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ct(e))}withConverter(e){return new ha(this.firestore,e,this._path)}}function k2(r,e,...i){if(r=Pl(r),zv("collection","path",e),r instanceof oc){const s=ee.fromString(e,...i);return $y(s),new ha(r,null,s)}{if(!(r instanceof cn||r instanceof ha))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return $y(s),new ha(r.firestore,null,s)}}function e_(r,e,...i){if(r=Pl(r),arguments.length===1&&(e=b_.newId()),zv("doc","path",e),r instanceof oc){const s=ee.fromString(e,...i);return Jy(s),new cn(r,null,new ct(s))}{if(!(r instanceof cn||r instanceof ha))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Jy(s),new cn(r.firestore,r instanceof ha?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="AsyncQueue";class i_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new mv(this,"async_queue_retry"),this.ec=()=>{const s=Rf();s&&it(n_,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const i=Rf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Rf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Ci;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!_r(e))throw e;it(n_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Ii("INTERNAL UNHANDLED ERROR: ",a_(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=i,i}enqueueAfterDelay(e,i,s){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const u=_d.createAndSchedule(this,e,i,s,h=>this.oc(h));return this.Hu.push(u),u}nc(){this.Ju&&gt(47125,{_c:a_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function a_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class hc extends oc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new i_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i_(e),this._firestoreClient=void 0,await e}}}function j2(r,e){const i=typeof r=="object"?r:x1(),s=typeof r=="string"?r:ko,u=V1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=_T("firestore");h&&P2(u,...h)}return u}function bd(r){if(r._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||q2(r),r._firestoreClient}function q2(r){var e,i,s;const u=r._freezeSettings(),h=function(p,v,_,A){return new cA(p,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Lv(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,u);r._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),r._firestoreClient=new M2(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(p){const v=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(Pe.fromBase64String(e))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new mr(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^__.*__$/;class G2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function kv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{hc:r})}}class Dd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Pc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.dc(e),u}Ac(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.Tc({path:s,Ec:!1});return u.Pc(),u}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Zo(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(kv(this.hc)&&H2.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Q2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||rc(e)}gc(e,i,s,u=!1){return new Dd({hc:e,methodName:i,fc:s,path:Be.emptyPath(),Ec:!1,mc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y2(r){const e=r._freezeSettings(),i=rc(r._databaseId);return new Q2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function F2(r,e,i,s,u,h={}){const d=r.gc(h.merge||h.mergeFields?2:0,e,i,u);Gv("Data must be an object, but it was:",d,s);const p=qv(s,d);let v,_;if(h.merge)v=new Nn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const x=K2(e,N,i);if(!d.contains(x))throw new ut(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);Z2(A,x)||A.push(x)}v=new Nn(A),_=d.fieldTransforms.filter(N=>v.covers(N.field))}else v=null,_=d.fieldTransforms;return new G2(new Rn(p),v,_)}function jv(r,e){if(Hv(r=Pl(r)))return Gv("Unsupported field value:",e,r),qv(r,e);if(r instanceof Pv)return function(s,u){if(!kv(u.hc))throw u.Vc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Vc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const p of s){let v=jv(p,u.Rc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,u){if((s=Pl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Se.fromDate(s);return{timestampValue:Yo(u.serializer,h)}}if(s instanceof Se){const h=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(s instanceof wd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mr)return{bytesValue:iv(u.serializer,s._byteString)};if(s instanceof cn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:od(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Cd)return function(d,p){return{mapValue:{fields:{[N_]:{stringValue:M_},[jo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw p.Vc("VectorValues must only contain numeric values.");return rd(p.serializer,_)})}}}}}}(s,u);throw u.Vc(`Unsupported field value: ${Sd(s)}`)}(r,e)}function qv(r,e){const i={};return w_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,(s,u)=>{const h=jv(u,e.Ic(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function Hv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof wd||r instanceof mr||r instanceof cn||r instanceof Pv||r instanceof Cd)}function Gv(r,e,i){if(!Hv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Sd(i);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function K2(r,e,i){if((e=Pl(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return Qv(r,e);throw Zo("Field path arguments must be of type string or ",r,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function Qv(r,e,i){if(e.search(X2)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rd(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zo(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new ut(X.INVALID_ARGUMENT,p+r+v)}function Z2(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Fv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class J2 extends Yv{data(){return super.data()}}function Fv(r,e){return typeof e=="string"?Qv(r,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W2{convertValue(e,i="none"){switch(ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return rs(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[jo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>he(d.doubleValue));return new Cd(h)}convertGeoPoint(e){return new wd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Wo(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=da(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);jt(ov(s),9688,{name:e});const u=new Gl(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kv extends Yv{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Fv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class xo extends Kv{data(e={}){return super.data(e)}}class eb{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ml(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new xo(this._firestore,this._userDataWriter,s.key,s,new Ml(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(p=>{const v=new xo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Ml(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(p=>h||p.type!==3).map(p=>{const v=new xo(u._firestore,u._userDataWriter,p.doc.key,p.doc,new Ml(u._snapshot.mutatedKeys.has(p.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:nb(p.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function nb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(r){r=ss(r,cn);const e=ss(r.firestore,hc);return L2(bd(e),r._key).then(i=>lb(e,r,i))}class Xv extends W2{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function ab(r){r=ss(r,cc);const e=ss(r.firestore,hc),i=bd(e),s=new Xv(e);return $2(r._query),z2(i,r._query).then(u=>new eb(e,s,r,u))}function sb(r,e,i){r=ss(r,cn);const s=ss(r.firestore,hc),u=tb(r.converter,e,i);return rb(s,[F2(Y2(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,Di.none())])}function rb(r,e){return function(s,u){const h=new Ci;return s.asyncQueue.enqueueAndForget(async()=>b2(await U2(s),u,h)),h.promise}(bd(r),e)}function lb(r,e,i){const s=i.docs.get(e._key),u=new Xv(r);return new Kv(r,u,e._key,s,new Ml(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){pr=u})(M1),Bo(new kl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new hc(new F1(s.getProvider("auth-internal")),new Z1(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),p._setSettings(h),p},"PUBLIC").setMultipleInstances(!0)),rr(uy,oy,e),rr(uy,oy,"esm2017")})();var ub="firebase",ob="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(ub,ob,"app");const cb={apiKey:"AIzaSyC45ZW2w_zzVKisi8rATX8CBD4dEjkViUM",authDomain:"nfl-picks-2025.firebaseapp.com",projectId:"nfl-picks-2025",storageBucket:"nfl-picks-2025.appspot.com",messagingSenderId:"231942630167",appId:"1:231942630167:web:90a3dba4642e531e2e6552"},hb=f_(cb),Kf=j2(hb);function fb(){const[r,e]=bn.useState([]);return bn.useEffect(()=>{(async()=>{try{const s=await ab(k2(Kf,"users")),u=[];s.forEach(h=>{const d=h.data();u.push({username:d.username||h.id,totalCorrect:d.totalCorrect||0,weeklyRecords:d.weeklyRecords||{}})}),u.sort((h,d)=>d.totalCorrect-h.totalCorrect),e(u)}catch(s){console.error("Error loading leaderboard:",s)}})()},[]),st.jsxs("div",{className:"leaderboard",children:[st.jsx("h2",{children:"Season Leaderboard"}),r.length===0?st.jsx("p",{children:"Loading leaderboard..."}):st.jsxs("table",{children:[st.jsx("thead",{children:st.jsxs("tr",{children:[st.jsx("th",{children:"Rank"}),st.jsx("th",{children:"User"}),st.jsx("th",{children:"Total Correct"})]})}),st.jsx("tbody",{children:r.map((i,s)=>st.jsxs("tr",{children:[st.jsx("td",{children:s+1}),st.jsx("td",{children:i.username}),st.jsx("td",{children:i.totalCorrect})]},i.username))})]}),r.map(i=>st.jsxs("div",{className:"weekly-breakdown",children:[st.jsxs("h3",{children:[i.username," Weekly Performance"]}),Object.keys(i.weeklyRecords).length===0?st.jsx("p",{children:"No picks yet."}):st.jsxs("table",{children:[st.jsx("thead",{children:st.jsxs("tr",{children:[st.jsx("th",{children:"Week"}),st.jsx("th",{children:"Correct Picks"})]})}),st.jsx("tbody",{children:Object.entries(i.weeklyRecords).map(([s,u])=>st.jsxs("tr",{children:[st.jsxs("td",{children:["Week ",s]}),st.jsx("td",{children:u})]},s))})]})]},i.username))]})}const Do="/nfl-picks-app";function db(){const r={PHI:"Philadelphia Eagles",DAL:"Dallas Cowboys",LAR:"Los Angeles Rams",KC:"Kansas City Chiefs",ATL:"Atlanta Falcons",TB:"Tampa Bay Buccaneers",CLE:"Cleveland Browns",CIN:"Cincinnati Bengals",IND:"Indianapolis Colts",MIA:"Miami Dolphins",NE:"New England Patriots",LV:"Las Vegas Raiders",NO:"New Orleans Saints",ARI:"Arizona Cardinals",NYJ:"New York Jets",PIT:"Pittsburgh Steelers",WAS:"Washington Commanders",NYG:"New York Giants",JAX:"Jacksonville Jaguars",CAR:"Carolina Panthers",DEN:"Denver Broncos",TEN:"Tennessee Titans",SEA:"Seattle Seahawks",SF:"San Francisco 49ers",GB:"Green Bay Packers",DET:"Detroit Lions",HOU:"Houston Texans",LAC:"Los Angeles Chargers",BUF:"Buffalo Bills",BAL:"Baltimore Ravens",CHI:"Chicago Bears",MIN:"Minnesota Vikings"},[e,i]=bn.useState(1),[s,u]=bn.useState(!1),[h,d]=bn.useState([]),[p,v]=bn.useState([]),[_,A]=bn.useState(""),[N,x]=bn.useState(""),[G,Z]=bn.useState({});bn.useEffect(()=>{let S=localStorage.getItem("username"),C=localStorage.getItem("pin");(!S||!C)&&(S=window.prompt("Enter your username:"),C=window.prompt("Enter your 4-digit PIN:"),S&&C&&(localStorage.setItem("username",S),localStorage.setItem("pin",C))),S&&C&&(A(S),x(C),nt(S,C))},[]);const nt=async(S,C)=>{try{const V=e_(Kf,"users",S),O=await ib(V);if(O.exists()){const R=O.data();R.pin===C?Z(R.picks||{}):alert("Incorrect PIN. Please refresh and try again.")}}catch(V){console.error("Error loading picks:",V)}};bn.useEffect(()=>{$(),Tt()},[]);const $=async()=>{var S;try{const V=await(await fetch(`${Do}/schedule.json`)).json();v(V),V.find(O=>O.week===e)||i(((S=V[0])==null?void 0:S.week)||1)}catch(C){console.error("Error loading schedule:",C)}},Tt=async()=>{try{const C=await(await fetch(`${Do}/results.json`)).json();d(C)}catch(S){console.error("Error loading results:",S)}},dt=async(S,C,V)=>{const O={...G},R=O[S]?{...O[S]}:{};R[C]===V?delete R[C]:R[C]=V,O[S]=R,Z(O),localStorage.setItem(`picks-${_}`,JSON.stringify(O));try{await sb(e_(Kf,"users",_),{pin:N,picks:O},{merge:!0})}catch(ne){console.error("Error saving pick:",ne)}},ht=S=>i(Number(S.target.value)),Ot=async()=>{try{await fetch(`${Do}/api/update-all`,{method:"POST"}),$(),Tt(),alert("Schedule and results updated")}catch(S){console.error("Manual update failed:",S)}},_t=p.find(S=>S.week===e),zt=S=>S?new Date(S).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"TBD",M=S=>S?new Date(S).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",timeZone:"America/New_York"})+" ET":"TBD",b=S=>{if(!S)return!1;const C=new Date(S).getTime();return Date.now()>=C-5*6e4};return st.jsxs("div",{className:"app",children:[st.jsx("h1",{children:"NFL 2025 Touchdown Throwdown"}),st.jsx("div",{style:{textAlign:"center",marginBottom:"10px"},children:st.jsx("img",{src:`${Do}/app logo.png`,alt:"App Logo",style:{width:"140px",height:"auto"}})}),st.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[st.jsx("button",{onClick:()=>u(!s),children:s?"Back to Schedule":"View Leaderboard"}),!s&&st.jsx("button",{onClick:Ot,children:"Manual Update"})]}),!s&&st.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[st.jsxs("h2",{style:{margin:0},children:["Week ",e]}),st.jsxs("div",{children:[st.jsx("label",{style:{marginRight:"5px"},children:"Select Week:"}),st.jsx("select",{value:e,onChange:ht,children:(p??[]).map(S=>st.jsxs("option",{value:S.week,children:["Week ",S.week]},S.week))})]})]}),s?st.jsx(fb,{}):_t?st.jsx("div",{className:"week",children:(_t.games??[]).map((S,C)=>{var $t;const V=r[S.homeTeam]||S.homeTeam,O=r[S.awayTeam]||S.awayTeam,R=($t=G==null?void 0:G[e])==null?void 0:$t[C],ne=b(S.date);return st.jsxs("div",{className:"game",children:[st.jsxs("p",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",fontWeight:"bold"},children:[st.jsx("img",{src:Xp[O],alt:O,width:"60",height:"60"}),st.jsx("span",{children:O})," ",st.jsx("span",{children:"@"})," ",st.jsx("span",{children:V}),st.jsx("img",{src:Xp[V],alt:V,width:"60",height:"60"})]}),st.jsxs("p",{style:{textAlign:"center",margin:"5px 0"},children:[zt(S.date)," | ",M(S.date)]}),st.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"10px"},children:[st.jsxs("button",{onClick:()=>dt(e,C,O),disabled:ne,className:R===O?"selected":"",children:["Pick ",O]}),st.jsxs("button",{onClick:()=>dt(e,C,V),disabled:ne,className:R===V?"selected":"",children:["Pick ",V]})]}),(()=>{var rt;const q=h.find(St=>St.week===e),tt=(rt=q==null?void 0:q.results)==null?void 0:rt.find(St=>St.index===C);if(tt&&tt.winner){const St=tt.winner;return R?R===St?st.jsx("p",{style:{color:"green",textAlign:"center"},children:"✅ Correct Pick!"}):st.jsxs("p",{style:{color:"red",textAlign:"center"},children:["❌ Wrong Pick — Winner: ",St]}):st.jsxs("p",{style:{color:"gray",textAlign:"center"},children:["🏆 Winner: ",St]})}return null})(),ne&&st.jsx("p",{style:{textAlign:"center"},children:"Pick Locked"})]},C)})}):st.jsx("p",{children:"Loading schedule..."})]})}VE.createRoot(document.getElementById("root")).render(st.jsx(bn.StrictMode,{children:st.jsx(db,{})}));
